<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>qunit</title>
<link rel="stylesheet" type="text/css" href="../css/ui-all.css">
<link rel="stylesheet" href="qunit.css" />
<script src="../jquery-ui/js/jquery-1.5.2.min.js"></script>
<script src="../jquery-ui/js/jquery-ui-1.8.11.custom.min.js"></script>
<script language="javascript" type="text/javascript" src="qunit.js"></script>
<script language="javascript" type="text/javascript">
	$(function(){		
		//定义测试模块
		module( "测试示例--布尔值ok( state, message )" );
		//定义一个简单的函数，判断参数是不是数字
		function simpleTest(para) {
		  if(typeof para == "number") {
			return true;
		  }
		  else{
			return false;
		  }
		}
		//开始单元测试
		test('simpleTest()', function() {
		  //列举各种可能的情况，注意使用 ! 保证表达式符合应该的逻辑
		  ok(simpleTest(2), '2是一个数字');
		  ok(!simpleTest("2"), '"2"不是一个数字');
		  ok(simpleTest("2"), '"2"是一个数字');
		});
		
	  	//定义一个简单的函数，返回数字和2的乘积
	  	module( "测试示例--相等equal( actual, expected, message )" );
	  	function simpleTest1(para) {
			return para * 2;
	  	}
	  	//开始单元测试
	  	test('simpleTest1()', function() {
			//列举各种可能的情况
			equal(simpleTest1(2), 4, '2 * 2 等于 4');
			equal(simpleTest(2), 3, '2 * 2 等于 3');
	  	});
	  
	  	//定义一个简单的函数，返回一个数组
	  	module( "测试示例--相同判断(包含数组、对象等)same( actual, expected, [message] )" );
	  	function simpleTest2() {
			return [1, 2];
	  	}
	  	//开始单元测试
	  	test('simpleTest2()', function() {
			//列举各种可能的情况
			same(simpleTest2(), [1, 2], '函数返回数组[1, 2]');
			same(simpleTest2(), [1, 1], '函数返回数组[1, 1]');
	  	});
	  
	 	//异步测试
		module( "异步测试示例" );
		//setTimeout
		test('asynchronous test', function() {
	  		// 暂停测试
	  		stop();
	 	  	setTimeout(function() {
				ok(true, '完成运行');
				//待测试完成后，恢复
				start();
	  		}, 100) ;
		});
		//另一种形式
		asyncTest('asynchronous test', function() {
			setTimeout(function() {
				ok(true);
				//待测试完成后，恢复
				start();
			}, 100) ;
		}) ;
		
		//Ajax测试
		module( "Ajax测试示例" );
		function ajax(successCallback) {
		  $.ajax({
			url: 'server.php',
			success: successCallback
		  });
		}
		 
		test('asynchronous test', function() {
		  // 暂停测试
		  stop();
		 
		  ajax(function() {
			// 异步调用判断
		  }) ;
		 
		  setTimeout(function() {
			//异步测试完成后，恢复
			start();
		  }, 2000);
		}) ;
	}) ;
</script>
</head>

<body>
<div class="qunit-wrap">
    <h1 id="qunit-header">QUnit example</h1>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
</div>
</body>
</html>
