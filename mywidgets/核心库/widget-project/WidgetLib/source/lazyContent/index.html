<html>
<head>
    <title>内容懒加载</title>
    <meta charset="utf-8"/>
    <script type="text/javascript" src="../jquery-ui/js/jquery-1.5.2.min.js"></script>
    <script type="text/javascript" src="../jquery-ui/js/jquery-ui-1.8.11.custom.min.js"></script>
    <script type="text/javascript" src="lazyContent.js"></script>
</head>
<body>
<style type="text/css">
    ul.lazy_content {
      list-style: none;
    }
    ul.lazy_content li {
        width: 200px;
        height: 150px;  
        float: left;
        margin: 10px 30px;
        outline: 1px dashed red;
    }
    .item_con {
        margin: 10px;
        outline: 1px dashed black;
        height: 130px;
        text-align: center;
        vertical-align: middle;
    }
    .nav_content {
        position: relative;
        outline: 1px dashed red;
        height: 340px;
        width: 349px;
        display: inline-block;
        vertical-align: middle;
    }
</style>
<h2>1个显示区+多个导航#2</h2>
<div class="btn-group btn-group-vertical" id="navCon2">
    <input type="button" class="btn" 
        value="li#0" data-url="data.txt"
        data-param="text"/>
    <input type="button" class="btn" 
        value="li#1" data-url="data.txt"
        data-param="text"/>
    <input type="button" class="btn" 
        value="li#2" data-url="data.txt"
        data-param="text"/>
    <input type="button" class="btn" 
        value="li#3" data-url="data.txt"
        data-param="text"/>        
</div>
<div class="nav_content" id="con2"></div>
<h2>多个平行ajax块#2</h2>
<input type="button" value="去加载" id="loadAjax2" class="btn"/>
<ul class="lazy_content" id="nav2">
    <li data-url="data.txt"
        data-param="text">
        <div class="item_con">li#0</div>
    </li>
    <li data-url="data.txt"
        data-param="text">
        <div class="item_con">li#1</div>
    </li>
    <li data-url="data.txt"
        data-param="text">
        <div class="item_con">li#2</div>
    </li>
    <li data-url="data.txt"
        data-param="text">
        <div class="item_con">li#3</div>
    </li>
</ul>
<script type="text/javascript">
$(function() {
  $('#navCon2').lazyContent({
    mode: '0',
    el: '#con2',
    dataElem: ':button',
    dataType: 'html',
    renderType: 'hand',
    render: function(data) {
      return data + (new Date).getTime() + 'abccba';
    },
    loading: 'images/lazyContent/loading.gif'
  });
  //测试加载多个平行待加载项目
  $('#nav2>li').lazyContent({
    el: '.item_con',
    timeout: 200,
    event: 'customeName',
    loading: 'images/lazyContent/loading.gif'
  });
  // var indexArray = [];
  // for (var i=0;i<12;i++) {
  //   indexArray[i] = i;
  // }
  var psedoTimer = 0;
  $('#loadAjax2').bind('click',function() {
    var $targetLi = $('#nav2>li');
    var len = $targetLi.length;
    //$targetLi.eq(Math.random() * (len - 1)).trigger('customeName');
    if (psedoTimer < 12 && psedoTimer >= 0) {
      $targetLi.eq(psedoTimer++).trigger('customeName');
    } else {
      psedoTimer = 0;
    }
  });
});
</script>

</body>
</html>