var eddy,ui=eddy=ui||{version:"1.2"};eddy.fn=eddy.fn||{};eddy.fn.isHtml5=function(){var a=typeof(Worker);if(a=="undefined"){return false}else{return true}};eddy.isHtml5=eddy.fn.isHtml5;eddy.fn.randomInt=function(b,a){return Math.floor(Math.random()*(a-b+1)+b)};eddy.fn.isLocalStorage=function(){try{return"localStorage" in window&&window.localStorage!==null}catch(a){return false}};ui.fn.isIE=function(){var a="ActiveXObject" in window;if(arguments.length===0){return a}else{return a&&parseInt(arguments[0])===((navigator.userAgent.match(/msie ([\d.]+)/i))[1])>>0}};ui.isIE=ui.fn.isIE;ui.fn.isChrome=function(){return window.chrome&&/chrome\/([\d.]+)/i.test(navigator.userAgent)};ui.isChrome=ui.fn.isChrome;ui.fn.isFx=function(){return/firefox\/([\d.]+)/i.test(navigator.userAgent)};ui.isFx=ui.fn.isFx;ui.fn.isSafari=function(){return/version\/([\d.]+).*safari/i.test(navigator.userAgent)};ui.isSafari=ui.fn.isSafari;ui.fn.isOpera=function(){return/opera\/([\d.]+)/i.test(navigator.userAgent)};ui.isOpera=ui.fn.isOpera;ui.fn.isFn=function(a){return !!a&&Object.prototype.toString.call(a)==="[object Function]"};ui.isFn=ui.fn.isFn;ui.fn.isUndefined=function(a){return a===undefined&&!a};ui.isUndefined=ui.fn.isUndefined;ui.fn.isNull=function(a){return a===null&&!a};ui.isNull=ui.fn.isNull;ui.fn.isNotEmpty=function(a){return/^\S+$/.test(a)};ui.isNotEmpty=ui.fn.isNotEmpty;ui.fn.isNum=function(a){return/^([+-]?)\d*\.?\d+$/.test(a)};ui.isNum=ui.fn.isNum;ui.fn.isInteger=function(a){return/^([+-]?)([1-9]?)\d+$/.test(a)};ui.isInteger=ui.fn.isInteger;ui.fn.isDecimal=function(a){return/^([+-]?)(([1-9]?\d*\.\d*)|0)$/.test(a)};ui.isDecimal=ui.fn.isDecimal;ui.fn.isIp=function(a){return/((?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))))/.test(a)};ui.isIp=ui.fn.isIp;ui.fn.isUrl=function(b){var a="^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+/?)$";return !!b&&!/^true|false$/.test(b)&&new RegExp(a).test(b)};ui.isUrl=ui.fn.isUrl;ui.fn.isDateTime=function(a){return/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/.test(a)};ui.isDateTime=ui.fn.isDateTime;ui.fn.isEmail=function(a){return !!a&&/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(a)};ui.isEmail=ui.fn.isEmail;ui.fn.isTel=function(a){return !!a&&/^(([0\+]\d{2,3}-)?(0\d{2,3})-)?(\d{7,8})(-(\d{3,}))?$/.test(a)};ui.isTel=ui.fn.isTel;ui.fn.isPhone=function(a){return !!a&&/^((\+86)|(\(86\)))?((13[0-9]{9})|(15[012356789][0-9]{8})|(18[0256789][0-9]{8})|(147[0-9]{8}))$/.test(a)};ui.isPhone=ui.fn.isPhone;ui.fn.isZipcode=function(a){return !!a&&/^\d{6}$/.test(a)};ui.isZipcode=ui.fn.isZipcode;ui.fn.isIdCard=function(c){function b(g){function d(l){function h(j){return Math.pow(2,j-1)%11}var k=0,i;for(i=0;i<17;i++){k+=l[i]*h(i+2)}return k}var e=(12-(d(g.split("").reverse())%11))%11;return(e===10)?"X":e+""}var a=!!c&&/^[1-9]([0-9]{14}|([0-9]{16}([0-9X]{1})))$/.test(c);if(a&&c.length===18){return(b(c.substring(0,17))===c.substr(17,1))}else{return a}};ui.isIdCard=ui.fn.isIdCard;(function(a,b){a.widget("ui.buttonPro",{options:{},_create:function(){var d=this.element,i=this.options,g=d.attr("data-img")||"s",c=d.attr("data-width")||"",h=a("<span />").addClass("ui-buttonPro").append("<span class='buttonPro-con'/>");d.wrap(h).before(function(){var j=a("<div />");if(g!=="s"){j.addClass("ico").attr("style","background-image:url("+g+")")}else{j.addClass("s")}return j});if(d.is("[data-img]")&&d.is("[data-width]")&&d.attr("data-width")!="standard"){d.width(c-30)}else{if(d.is("[data-width]")&&d.attr("data-width")!="standard"){d.width(c-10)}else{if(d.is("[data-img]")&&d.attr("data-width")=="standard"){d.width(46)}else{if(d.attr("data-width")=="standard"){d.width(66)}}}}if(d.is("[data-img]")){var e=navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/);if(e!=b&&e[1]==="7.0"){d.get(0).style.padding="0"}}},_init:function(){var d=this.options,j=this.element,e=j.attr("data-type")||"normal",l=a("<span class='triangle'/>"),c=j.parent().parent();function g(){if(j.is(":disabled")){c.addClass("ui-buttonPro-d")}else{c.addClass("ui-buttonPro-h")}}function i(){if(j.is(":disabled")){c.addClass("ui-buttonPro-d")}else{c.removeClass("ui-buttonPro-h")}}function k(){if(j.is(":disabled")){c.addClass("ui-buttonPro-d")}else{c.addClass("ui-buttonPro-c")}}function m(){if(j.is(":disabled")){c.addClass("ui-buttonPro-d")}else{c.removeClass("ui-buttonPro-c")}}if(j.is(":disabled")){c.addClass("ui-buttonPro-d")}else{c.removeClass("ui-buttonPro-d")}if(e=="menu"){c.find("span.buttonPro-con").append(l)}if(j.css("display")=="none"){c.hide()}else{c.show()}c.hover(g,i).mousedown(k).mouseup(m).mouseout(m).unbind("click").bind("click",function(h){if(j.is(":disabled")){}else{if(h.target.tagName!="INPUT"&&h.target.tagName!="BUTTON"){j[0].click()}}});return c},show:function(){this.element.show().parent().parent().show();return this.element},hide:function(){this.element.parent().parent().hide();return this.element},disable:function(){this.element.attr("disabled",true).parent().parent().addClass("ui-buttonPro-d");return this.element},enable:function(){this.element.attr("disabled",false).parent().parent().removeClass("ui-buttonPro-d");return this.element},destroy:function(){this.element.parent().parent().before(this.element);this.element.next(".ui-buttonPro").remove();return this}});a.extend(a.ui.buttonPro,{version:"1.2"})})(jQuery);$(function(){$(".buttonPro").buttonPro()});(function(a,b){a.widget("ui.buttonActive",{options:{},_create:function(){var g=this.options,d=this.element,e=a("<span class='ui-buttonActive'><span></span></span>"),c=d.attr("data-width")||"";if(c=="standard"){d.addClass("standard")}else{if(c!=""){d.width(c)}}d.wrap(e);d.attr("data-destory",true);d.focus(function(){this.blur()})},_init:function(){var c=this.element,g=c.parent().parent();c.css("color","#ffffff");function i(){if(c.is(":disabled")){g.addClass("ui-buttonActive-d")}else{g.addClass("ui-buttonActive-h")}}function e(){if(c.is(":disabled")){g.addClass("ui-buttonActive-d")}else{g.removeClass("ui-buttonActive-h")}}function j(){if(c.is(":disabled")){g.addClass("ui-buttonActive-d")}else{g.addClass("ui-buttonActive-a")}}function d(){if(c.is(":disabled")){g.addClass("ui-buttonActive-d")}else{g.removeClass("ui-buttonActive-a")}}if(c.is(":disabled")){g.addClass("ui-buttonActive-d")}else{g.removeClass("ui-buttonActive-d")}if(c.css("display")=="none"){g.hide()}else{g.show()}g.hover(i,e).mousedown(j).mouseup(d).mouseout(d).unbind("click").bind("click",function(h){if(h.target.tagName!="INPUT"&&h.target.tagName!="BUTTON"){c[0].click()}});return g},show:function(){this.element.show().parent().parent().show()},hide:function(){this.element.parent().parent().hide()},disable:function(){this.element.attr("disabled",true).parent().parent().addClass("ui-buttonActive-d")},enable:function(){this.element.attr("disabled",false).parent().parent().removeClass("ui-buttonActive-d")},destroy:function(){if(this.element.attr("data-destory")=="true"){this.element.css("color","");this.element.removeClass("standard").unwrap().unwrap();this.element.attr("data-destory","false");return this.element}}});a.extend(a.ui.buttonActive,{version:"1.2"})})(jQuery);$(function(){$(".buttonActive").buttonActive()});(function(a,b){a.widget("ui.buttonLight",{options:{},_create:function(){var d=this.element,j=this.options,g=d.attr("data-img")||"s",c=d.attr("data-width")||"",h=a("<span />").addClass("ui-buttonLight").append("<span class='buttonLight-con'/>"),e=d.attr("data-type")||"normal",i=a("<span class='triangle'/>");d.wrap(h).before(function(){var k=a("<div />");if(g!=="s"){k.addClass("ico").attr("style","background-image:url("+g+")")}else{k.addClass("s")}return k});if(d.is("[data-img]")&&d.is("[data-width]")&&d.attr("data-width")!="standard"){d.width(c-30)}else{if(d.is("[data-width]")&&d.attr("data-width")!="standard"){d.width(c-10)}else{if(d.is("[data-img]")&&d.attr("data-width")=="standard"){d.width(46)}else{if(d.attr("data-width")=="standard"){d.width(66)}}}}if(e=="menu"){d.parent().append(i)}},_init:function(){var d=this.options,k=this.element,g=k.attr("data-type")||"normal",m=a("<span class='triangle'/>"),c=k.parent().parent();function i(){if(k.is(":disabled")){c.addClass("ui-buttonLight-d")}else{c.addClass("ui-buttonLight-h")}}function j(){if(k.is(":disabled")){c.addClass("ui-buttonLight-d")}else{c.removeClass("ui-buttonLight-h")}}function l(){if(k.is(":disabled")){c.addClass("ui-buttonLight-d")}else{c.addClass("ui-buttonLight-c")}}function n(){if(k.is(":disabled")){c.addClass("ui-buttonLight-d")}else{c.removeClass("ui-buttonLight-c")}}if(k.is(":disabled")){c.addClass("ui-buttonLight-d")}else{c.removeClass("ui-buttonLight-d")}if(k.is(":hidden")){c.hide()}else{if(k.is(":visible")){c.show()}}c.hover(i,j).mousedown(l).mouseup(n).mouseout(n).unbind("click").bind("click",function(h){if(k.is(":disabled")){}else{if(h.target.tagName!="INPUT"&&h.target.tagName!="BUTTON"){k[0].click()}}});if("ontouchstart" in window){var e=c.get(0);e.addEventListener("touchstart",i,false);e.addEventListener("touchend",function(){setTimeout(j,500)},false)}},show:function(){this.element.show().parent().parent().show()},hide:function(){this.element.parent().parent().hide()},disable:function(){this.element.attr("disabled",true).parent().parent().addClass("ui-buttonLight-d")},enable:function(){this.element.attr("disabled",false).parent().parent().removeClass("ui-buttonLight-d")},destroy:function(){this.element.parent().parent().before(this.element);this.element.next(".ui-buttonLight").remove()}});a.extend(a.ui.buttonLight,{version:"1.2"})})(jQuery);$(function(){$(".buttonLight").buttonLight()});(function(a){a.fn.minSearch=function(b){var c={btnClick:function(){},onFocus:function(){},onBlur:function(){},width:"100%"};if(b!="destory"){var b=a.extend(c,b);this.each(function(){var j=a(this);var k=a("<div class='c6ui-widget-minSearch' style='width:"+b.width+";'></div>");var h=a("<a href='javascript:void(0)' class='minSearchBtn'></a>");var g=a("<div class='minSearchInput'></div>");var e=b.btnClick;var d=b.onFocus;var l=b.onBlur;var i=false;if(j.attr("data-destory")!="true"){j.wrap(k).after(h).wrap(g);j.attr("data-destory",true)}else{}j.focus(function(){d();i=true;document.onkeydown=function(n){var m=document.all?window.event:n;if(m.keyCode==13){e()}}}).blur(function(){l();document.onkeydown=function(m){}});h.click(e)})}else{if(a(this).attr("data-destory")=="true"){a(this).parents(".c6ui-widget-minSearch").children(".minSearchBtn").remove();a(this).unwrap(".minSearchInput").unwrap()}a(this).attr("data-destory","false")}};a.extend(a.fn.minSearch,{version:"1.2"})})(jQuery);(function(a){a.fn.bubble=function(e,b,c){var d={x:100,y:100,hand:"leftTop",content:"Eddy Zhang 友情提示:<br/>你没有定义content的参数，请检查你的参数设置。",onClick:function(){a(this).detach()}};var c=a.extend(d,c);this.each(function(){if(b==true){var j=a("<div class='c6ui-bubble' id='"+e+"' style='left:"+c.x+"px;top:"+c.y+"px;'></div>");var g=a("<table border='0' cellspacing='0' cellpadding='0' class='c6ui-bubble-layout'><tr><td class='lt'></td><td class='t'></td><td class='rt'></td></tr><tr><td class='l'></td><td class='con'>"+c.content+"</td><td class='r'></td></tr><tr><td class='lb'></td><td class='b'></td><td class='rb'></td></tr></table>");var i=a("<div class='corner "+c.hand+"'></div>");var h=a("body");j.append(g).append(i).appendTo(h).show();j.click(c.onClick)}else{a("#"+e).detach()}})}})(jQuery);(function(a,b){a.widget("ui.stateBox",{options:{state:"succeed",content:"提交成功！",corner:false},_create:function(){},_init:function(){var g=this.options,c=this.element,d=a("<div />").addClass("ui-stateBox").html(g.content);c.append(d);c.append("<script>_stateBoxRemoveBox();<\/script>");if(g.corner){d.addClass("ui-corner-all");_stateBoxRemoveBox()}if(g.state==="succeed"){d.addClass("ui-stateBox-succeed");_stateBoxRemoveBox()}else{if(g.state==="alert"){d.addClass("ui-stateBox-alert");_stateBoxRemoveBox()}else{if(g.state==="error"){d.addClass("ui-stateBox-error");_stateBoxRemoveBox()}}}d.fadeIn("fast");function e(){d.fadeOut("fast").remove()}},destroy:function(){}});a.extend(a.ui.stateBox,{version:"1.2"})})(jQuery);function _stateBoxRemoveBox(){setTimeout(function(){$(document).find(".ui-stateBox").fadeOut("fast").remove()},2800)}(function(a,b){a.widget("ui.menuList",{options:{json:"",dateShow:false,numControl:5,fn:function(){},listId:""},_create:function(){},_init:function(){var k=this.options,d=this.element,j=a("<div />").addClass("ui-menuList").append("<ul />").attr("id",k.listId);j.find("ul").append("<li>菜单列表</li><li>菜单列表</li><li>菜单列表</li><li>菜单列表</li>"),fn=k.fn;if(typeof(k.json)=="object"){alert("json参数请传入json格式的字符串！");return}if(k.json.indexOf("[{")==0){var g=JSON.parse(k.json);h(g)}else{a.getJSON(k.json,function(l){h(l);return false})}function h(l){j.find("ul").empty();a.each(l,function(m,p){var n="";if(p.menuList.length>5){n=p.menuList.substring(0,5)+"..."}else{n=p.menuList}var o="";if(p.menuList=="管理角色组"){o="<li id='"+p.id+"' title='"+p.menuList+"' style='color:blue' >"+n+"</li>"}else{o="<li id='"+p.id+"' title='"+p.menuList+"' >"+n+"</li>"}j.find("ul").append(o)})}j.find("li").hover(function(){a(this).addClass("h")},function(){a(this).removeClass("h")});if(d.is(".buttonPro")){d=d.parent().parent()}j.insertAfter(d);d.unbind("click").bind("click",function(l){i(c);j.slideToggle();l.stopPropagation()});fn();var e=true;j.mouseout(function(){e=true});d.mouseover(function(){e=false}).mouseout(function(){e=true});a(document).bind("mouseup",function(){var l=document.getElementById(k.listId);if(l==""||l==null||l=="undefined"){return}if(l.style.display!="none"&&e){l.style.display="none"}});var c;setTimeout(function(){j.css({left:-1000,top:-1000,"z-index":9999,display:"block"});c=j.height();j.css("display","none")},500);a(window).bind("resize",function(){j.slideUp()}).bind("scroll",function(){j.slideUp()});function i(l){var p=d.offset().top;var m=d.offset().left;var o=p+d.height();var n=a(window).height()-o;if(n<l&&l<=p){o=p-l-7;j.css({top:o+"px",left:m+"px"})}else{if(n<l&&l>p){m=m-8;j.css({top:o+"px",left:m+"px"})}else{if(d.parent("#d_search").size()!=0){o=o-10;m=m-10}j.css({top:o+"px",left:m+"px"})}}}if(k.dateShow){j.click(function(n){if(a(n.target).is("li")){var m=a(n.target).text();var l=a("#"+k.listId).prev("span").children("span").children("input");if(l.size()==0){l=a("#"+k.listId).prev("a");l.text(m+"▼")}else{l.attr("value",m)}}})}if("ontouchstart" in window){window.document.body.addEventListener("touchstart",function(m){var l=a(m.target).parent("ul").parent("div").attr("class");if(l==null||l=="undefined"||l==""||!(l.match("ui-menuList"))){var n=document.getElementById(k.listId);if(n.style.display!="none"){n.style.display="none"}}},false)}},destroyMenuList:function(){if(this.element.is(".buttonPro")){this.element.unbind("click").parent().parent().next(".ui-menuList").remove()}else{this.element.unbind("click").next(".ui-menuList").remove()}return 1}});a.extend(a.ui.menuList,{version:"1.2"})})(jQuery);(function(a,b){a.widget("ui.progressBar",{options:{width:"100%"},_create:function(){var e=this.options;var d=this.element;var c=a("<div class='ui-progressBar'><span><b></b></span></div>");d.wrap(c);d.hide()},_init:function(){var d=this.element,c=d.parent().parent().parent(),e=this.options;c.width(e.width);if(d.val()<=100){d.parent().animate({width:d.val()+"%"},"fast")}},destroy:function(){var c=this.element.parents(".ui-progressBar").length;if(c>0){this.element.unwrap().unwrap().unwrap();this.element.css("display","block");return this.element}}});a.extend(a.fn.progressBar,{version:"1.2"})})(jQuery);$(function(){$(".progressBar").progressBar()});(function(a,b){a.widget("ui.minProgressBar",{options:{dataValue:""},_create:function(){var h=this.element,g=h.attr("data-color")||"";var c=a("<div class='ui-min-progressBar-dataValue'>"+h.val()+"</div>");var d=a("<div class='ui-min-progressBar'><span></span></div>");var e=a('<b class="'+g+'Color"></b>');h.wrap(d).wrap(e).before(c).hide()},_init:function(){var c=this.element,d=this.options;if(d.dataValue==""||d.dataValue==null||d.dataValue=="undefined"){if(c.val()<=100){c.parent().animate({width:c.val()+"%"},"fast")}}else{if(d.dataValue>0&&d.dataValue<=100){a("div.ui-min-progressBar-dataValue").text(d.dataValue);c.parent().animate({width:d.dataValue+"%"},"fast")}}},destroy:function(){var c=this.element.parents("b").length;if(c>0){this.element.parents("b").children("div").remove();this.element.unwrap().unwrap().unwrap();this.element.css("display","block");return this.element}}});a.extend(a.fn.minProgressBar,{version:"1.2"})})(jQuery);$(function(){$(".minProgressBar").minProgressBar()});(function(a,b){a.widget("ui.miniProgressBar",{options:{dataValue:""},_create:function(){var g=this.element;var c=a("<div class='ui-mini-progressBar-dataValue'>"+g.val()+"%</div>");var d=a("<b></b>");var e=a("<div class='ui-mini-progressBar'><span></span></div>");g.after(c);g.wrap(e);g.wrap(d);g.hide()},_init:function(){var c=this.element,d=this.options;if(d.dataValue==""||d.dataValue==null||d.dataValue=="undefined"){if(c.val()<=100){c.parent().animate({width:c.val()+"%"},"fast")}}else{if(d.dataValue>0&&d.dataValue<=100){c.val(d.dataValue);c.parents("div.ui-mini-progressBar").next("div").text(d.dataValue+"%");c.parent().animate({width:d.dataValue+"%"},"fast")}}},destroy:function(){var c=this.element.parents("b").length;if(c>0){this.element.parents("div.ui-mini-progressBar").next("div").remove();this.element.unwrap().unwrap().unwrap();this.element.css("display","block");return this.element}}});a.extend(a.fn.miniProgressBar,{version:"1.2"})})(jQuery);$(function(){$(".miniProgressBar").miniProgressBar()});(function(a,b){a.widget("ui.toolbar",{options:{},_create:function(){var c=this.element,e=this.options,d=c.attr("data-type")||"top";c.addClass("ui-toolbar");if(d=="bottom"){c.addClass("ui-toolbarBottom")}else{if(d=="top"){c.addClass("ui-toolbarTop")}}},_init:function(){},show:function(){},hide:function(){},destroy:function(){this.element.removeClass("ui-toolbar ui-toolbarBottom ui-toolbarTop")}});a.extend(a.ui.toolbar,{version:"1.2"})})(jQuery);$(function(){$(".toolbar").toolbar()});(function(a,b){a.widget("ui.inputText",{options:{},_create:function(){var c=this.element,d=false;if(c.is(".minSearch")){}else{c.addClass("ui-inputText");c.mouseover(function(){c.addClass("ui-inputText-active")}).focus(function(){d=true;c.addClass("ui-inputText-active")}).blur(function(){d=false;c.removeClass("ui-inputText-active")}).mouseout(function(){if(!d){c.removeClass("ui-inputText-active")}})}},_init:function(){},show:function(){var c=this.element;c.show();return c},hide:function(){var c=this.element;c.hide();return c},disable:function(){var c=this.element;c.attr("disabled",true).css("borderColor","#ddd");return c},enable:function(){var c=this.element;c.attr("disabled",false).css("borderColor","");return c},destroy:function(){}});a.extend(a.ui.inputText,{version:"1.3"})})(jQuery);$(function(){$("input:text,input:password").inputText()});(function(a,b){a.widget("ui.inputSelect",{options:{},_create:function(){var c=this.element,d=false;c.addClass("ui-inputSelect");c.mouseover(function(){c.addClass("ui-inputSelect-active")}).focus(function(){d=true;c.addClass("ui-inputSelect-active")}).blur(function(){d=false;c.removeClass("ui-inputSelect-active")}).mouseout(function(){if(!d){c.removeClass("ui-inputSelect-active")}})},_init:function(){},show:function(){var c=this.element;c.show();return c},hide:function(){var c=this.element;c.hide();return c},disable:function(){var c=this.element;c.attr("disabled",true).css("borderColor","#ddd");return c},enable:function(){var c=this.element;c.attr("disabled",false).css("borderColor","");return c},destroy:function(){}});a.extend(a.ui.inputSelect,{version:"1.3"})})(jQuery);$(function(){$("select").inputSelect()});(function(a,b){a.widget("ui.inputTextarea",{options:{},_create:function(){var c=this.element,d=false;c.addClass("ui-inputTextarea");c.mouseover(function(){c.addClass("ui-inputTextarea-active")}).focus(function(){d=true;c.addClass("ui-inputTextarea-active")}).blur(function(){d=false;c.removeClass("ui-inputTextarea-active")}).mouseout(function(){if(!d){c.removeClass("ui-inputTextarea-active")}})},_init:function(){},show:function(){var c=this.element;c.show();return c},hide:function(){var c=this.element;c.hide();return c},disable:function(){var c=this.element;c.attr("disabled",true).css("borderColor","#ddd");return c},enable:function(){var c=this.element;c.attr("disabled",false).css("borderColor","");return c},destroy:function(){}});a.extend(a.ui.inputTextarea,{version:"1.3"})})(jQuery);$(function(){$("textarea").inputTextarea()});(function(a,b){a.widget("ui.tab",{options:{},_create:function(){var c=this.element,e=this.options,d=c.attr("data-tabType")||"min";if(d==="minLeft"){c.addClass("ui-tabMin-rl")}else{if(d==="tabMenu"){c.addClass("ui-tabMenu")}else{c.addClass((d==="min")?"ui-tabMin":"ui-tabPro")}}c.find(">dt").attr("class","normal");c.click(function(m){var i=c.attr("data-targetId");var g=a(m.target);if(g.is("dt")){if(i==="div"){var l=c.find(">dt.active");l.attr("class","normal").attr("data-targetId");a("#"+l.attr("data-targetId")).css("display","none");g.attr("class","active");a("#"+g.attr("data-targetId")).css("display","block")}else{if(i!="div"&&i!="brrowTab"){var h=g.attr("data-tabUrl");c.find('>dt[class="active"]').attr("class","normal");g.attr("class","active");e.injected=e.injected||false;var j=a("#"+i);var k;if(!e.injected){k=a('<div class="tab-iframe-module"></div>');k.insertBefore(j);e.injected=true}else{k=j.prev("div.tab-iframe-module")}k.css("display","block");j.attr("src",h).bind("load",function(){k.css("display","none")})}}}})},_init:function(){var c=this.element,d=c.attr("data-flag")||"";if(d==""){c.find(">dt:first").attr("class","active").click()}else{c.find(">dt").eq(d-1).attr("class","active").click()}},show:function(){var c=this.element;c.show();return c},hide:function(){var c=this.element;c.hide();return c},enable:function(){},disable:function(){},destroy:function(){var c=this.element;c.removeClass("ui-tabMin ui-tabPro ui-tabMin-rl");return c}});a.extend(a.ui.tab,{version:"1.3"})})(jQuery);$(function(){$(".ui-tab").tab()});(function(a){a.fn.touchwipe=function(c){var b={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},wipe:function(){},wipehold:function(){},preventDefaultEvents:true};if(c){a.extend(b,c)}this.each(function(){var i;var h;var k=false;var j=false;var e;function n(){this.removeEventListener("touchmove",d);i=null;k=false;clearTimeout(e)}function d(r){if(b.preventDefaultEvents){r.preventDefault()}if(k){var o=r.touches[0].pageX;var s=r.touches[0].pageY;var q=i-o;var p=h-s;if(Math.abs(q)>=b.min_move_x){n();if(q>0){b.wipeLeft()}else{b.wipeRight()}}else{if(Math.abs(p)>=b.min_move_y){n();if(p>0){b.wipeUp()}else{b.wipeDown()}}}}}function l(){clearTimeout(e);if(!j&&k){b.wipe()}j=false}function m(){j=true;b.wipehold()}function g(o){if(o.touches.length==1){i=o.touches[0].pageX;h=o.touches[0].pageY;k=true;this.addEventListener("touchmove",d,false);e=setTimeout(m,750)}}if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",g,false);this.addEventListener("touchend",l,false)}});return this};a.extend(a.fn.touchwipe,{version:"1.2",author:"张勇辉"})})(jQuery);(function(a){a.fn.rtSearch=function(b){var g={width:"100%",timeout:600,searchHandler:function(){},onFocus:function(){},onBlur:function(){},search_mode:2};if(b!="destory"){var c=a.extend(g,b);var e=false;var d=null;this.each(function(){var l=a(this);var m=a('<div class="jh-widgets-rtSearch" style="width:'+c.width+'"></div>');var o=a('<span class="rt-search-ico"></span>');var p=a('<span class="rt-clear-ico"></span>');var j=c.searchHandler;var h=c.onFocus;var k=c.onBlur;l.css("width",parseInt(c.width)-48);if(l.attr("data-dom")!="true"){l.wrap(m).before(o).after(p);l.attr("data-dom","true")}else{}l.focus(function(){e=true;if(h!=undefined){h()}var q=c.search_mode;switch(q){case 0:d=setInterval(function(){i(a.trim(l.val()))},c.timeout);break;case 1:d=setInterval(function(){n(a.trim(l.val()))},c.timeout);break;case 2:d=setInterval(function(){j()},c.timeout);break}}).blur(function(){clearInterval(d);e=false;if(k!=undefined){k()}});l.parents(".jh-widgets-rtSearch").children(".rt-clear-ico").click(function(){l.val("")});function i(s){var r=a("#searchCon>p");r.find('span[class^="highlight"]').each(function(u){a(this).replaceWith(a(this).text())});if(s!=null&&s!=""){var q=new RegExp("("+s+")","g");var t=r.text();if(q.test(t)){r.html(t.replace(q,'<span class="highlight">$1</span>'))}}}function n(t){var s=a("#searchCon>p");s.find('span[class^="highlight"]').each(function(y){a(this).replaceWith(a(this).text())});if(t!=null&&t!=""){var r=new RegExp("("+t+")","g");var w=s.text();var q="[s,./，。、《》？<>?`~!@#$%^&*()_+|·~！@#￥%&*（）——+|]";var v=new RegExp(q,"g");var u=t.replace(v,"");var x=new RegExp("("+u+")","g");if(r.test(w)){s.html(w.replace(r,'<span class="highlight">$1</span>'))}else{if(x.test(w)){s.html(w.replace(x,'<span class="highlight">$1</span>'))}}}}})}else{if(a(this).attr("data-dom")=="true"){a(this).parents(".jh-widgets-rtSearch").children("span").remove();a(this).unwrap()}a(this).attr("data-dom","false")}};a.extend(a.fn.rtSearch,{version:"1.2"})})(jQuery);(function(a,b){a.widget("ui.widgetSlider",{options:{width:"100%"},_create:function(){var e=this.options;var k=this.element,l=parseInt(k.attr("data-size"));var h=a("<div class='ui-widget-slider'></div>");var j=a("<div><span></span></div>");var c=a("<b class='handle'></b>");var d="<table border='0' cellspacing='0' cellpadding='0'><tr>";for(var g=0;g<k.val();g++){d=d+"<td></td>"}d=d+"</tr></table>";var m=a(d);k.wrap(h).before(j).before(c).before(m);k.hide();a(".ui-widget-slider table").width(a(".ui-widget-slider div").width()+2);a(".ui-widget-slider b.handle").draggable({containment:"parent",axis:"x",drag:function(){var q=a(this).position();var o=a(".ui-widget-slider").width();var n=parseInt(q.left);var i=parseInt(o)-16;var p=parseInt(n/i*100);a("#th").val(p);k.val(p);a(".ui-widget-slider div span").width(q.left)}}).hover(function(){a(this).addClass("handleHover")},function(){a(this).removeClass("handleHover")});a(".ui-widget-slider div").click(function(r){var o=parseInt(a(".ui-widget-slider b.handle").position().left);var s=parseInt(r.pageX)-k.siblings("table").offset().left;if(s>o){var p=a(".ui-widget-slider").width();var n=parseInt(o+l);var i=parseInt(p)-16;var q=parseInt(n/i*100);if(o+l>i){a("#th").val(100);a(".ui-widget-slider div span").width(a(".ui-widget-slider").width()-16+"px");a(".ui-widget-slider b.handle").css("left",a(".ui-widget-slider").width()-16+"px")}else{a("#th").val(q);a(".ui-widget-slider div span").width(o+l);a(".ui-widget-slider b.handle").css("left",o+l)}}else{if(s<o){var p=a(".ui-widget-slider").width();var n=parseInt(o-l);var i=parseInt(p)-16;var q=parseInt(n/i*100);if(o-l<0){a("#th").val(0);a(".ui-widget-slider div span").width(0);a(".ui-widget-slider b.handle").css("left",0)}else{a("#th").val(q);a(".ui-widget-slider div span").width(o-l);a(".ui-widget-slider b.handle").css("left",o-l)}}}})},_init:function(){var d=this.element,c=d.parent(),e=this.options;c.width(e.width);if(e.width!="100%"){c.find(">table").width(parseInt(e.width)-16)}},show:function(){var c=this.element;c.parent("div.ui-widget-slider").show().prev("input.widget-textinput").show();return c},hide:function(){var c=this.element;c.parent("div.ui-widget-slider").hide().prev("input.widget-textinput").hide();return c},disable:function(){var c=this.element;c.siblings("div").unbind("click");c.siblings("b").draggable({disabled:true});return c},enable:function(){var c=this.element,d=parseInt(c.attr("data-size"));c.siblings("div").click(function(l){var i=parseInt(a(".ui-widget-slider b.handle").position().left);var m=parseInt(l.pageX)-c.siblings("table").offset().left;if(m>i){var j=a(".ui-widget-slider").width();var h=parseInt(i+d);var g=parseInt(j)-16;var k=parseInt(h/g*100);if(i+d>g){a("#th").val(100);a(".ui-widget-slider div span").width(a(".ui-widget-slider").width()-16+"px");a(".ui-widget-slider b.handle").css("left",a(".ui-widget-slider").width()-16+"px")}else{a("#th").val(k);a(".ui-widget-slider div span").width(i+d);a(".ui-widget-slider b.handle").css("left",i+d)}}else{if(m<i){var j=a(".ui-widget-slider").width();var h=parseInt(i-d);var g=parseInt(j)-16;var k=parseInt(h/g*100);if(i-d<0){a("#th").val(0);a(".ui-widget-slider div span").width(0);a(".ui-widget-slider b.handle").css("left",0)}else{a("#th").val(k);a(".ui-widget-slider div span").width(i-d);a(".ui-widget-slider b.handle").css("left",i-d)}}}});c.siblings("b").draggable({disabled:false});return c},destroy:function(){var c=this.element;c.show().unbind("click").unwrap().siblings("div,b,table").remove();return c}});a.extend(a.ui.widgetSlider,{version:"1.2"})})(jQuery);$(function(){$(".widgetSlider").widgetSlider()});(function(a){a.fn.extend({spin:function(b){return this.each(function(){b=a.extend({imageBasePath:"images/widgetSpin/",spinBtnImage:"widgetSpin.png",spinUpImage:"widgetSpin-up.png",spinDownImage:"widgetSpin-down.png",interval:1,max:null,min:null,timeInterval:500,timeBlink:200},b||{});var j=a(this);var h=b.imageBasePath+b.spinBtnImage;var l=new Image();l.src=h;var i=b.imageBasePath+b.spinUpImage;var d=new Image();d.src=i;var k=b.imageBasePath+b.spinDownImage;var g=new Image();g.src=k;var e=a(document.createElement("img"));e.attr("src",h);e.css({cursor:"pointer",verticalAlign:"bottom",padding:0,margin:0});j.after(e);j.css({marginRight:0,paddingRight:0});function c(n){var p=j.val();if(!isNaN(p)){p=parseFloat(p)+(n*b.interval);if(b.min!=null&&p<b.min){p=b.min}if(b.min!=null&&p>b.max){p=b.max}var m=parseInt(a(".ui-widget-slider").width())-16;var o=parseInt(p*m/100);a(".ui-widget-slider div span").width(o);a(".ui-widget-slider b.handle").css("left",o);if(p!=j.val()){j.val(p);a(".ui-widget-slider>input").val(p);j.change();src=(n>0?i:k);e.attr("src",src);if(b.timeBlink<b.timeInterval){setTimeout(function(){e.attr("src",h)},b.timeBlink)}}}}e.mousedown(function(n){var o=n.pageY-e.offset().top;var m=(e.height()/2>o?1:-1);(function(){c(m);var p=setTimeout(arguments.callee,b.timeInterval);a(document).one("mouseup",function(){clearTimeout(p);e.attr("src",h)})})();return false})})}})})(jQuery);(function(a,b){a.widget("ui.widgetSpin",{options:{width:"100%"},_create:function(){var k=this.options;var c=this.element;var g=a("<div class='ui-widget-slider'></div>");var e=a("<div><span></span></div>");var l=a("<b class='handle'></b>");var d="<table border='0' cellspacing='0' cellpadding='0'><tr>";for(var j=0;j<c.val();j++){d=d+"<td></td>"}d=d+"</tr></table>";var h=a(d);c.wrap(g).before(e).before(l).before(h);c.hide();a(".ui-widget-slider table").width(a(".ui-widget-slider div").width()+2)},_init:function(){var d=this.element,c=d.parent(),e=this.options;c.width(e.width);if(e.width!="100%"){c.find(">table").width(parseInt(e.width)-16)}},show:function(){var c=this.element;c.parent("div.ui-widget-slider").show();return c},hide:function(){var c=this.element;c.parent("div.ui-widget-slider").hide();return c},disable:function(){return this.element},enable:function(){return this.element},destroy:function(){var c=this.element;c.unwrap().show();c.siblings("div,b,table").remove()}});a.extend(a.ui.widgetSpin,{version:"1.2"})})(jQuery);$(function(){});function loc_adv_s(){var b=$("#jcsearchDiv");var c=b.offset();var a=$("#searchAdvanceCon");var d=$("#jcs_search_a");d.live("click",function(){if(a.css("display")=="none"){$("#searchAdvanceCon").css({display:"block",position:"absolute","z-index":"1987"});setTimeout(function(){a.slideUp()},3000)}else{$("#searchAdvanceCon").hide()}})}$(function(){loc_adv_s();$("div#searchAdvanceCon div").live("click",function(b){var a=$(this).find("span").attr("class");$("#searchTypeIco").attr("class",a).css("float","left");$("#jcs_search_a span.jcs_common_s_mei").attr("id","jcs-common-search_"+$(this).index()).attr("searchType",$(this).index());$("#searchAdvanceCon").hide();$("#jcs_mei_s").focus()})});$(window).resize(function(){loc_adv_s()});(function(a){a.fn.advancedSearch=function(b){var c={btnClick:function(){},onFocus:function(){},width:"100%"};if(b!="destory"){var b=a.extend(c,b);this.each(function(){var j=a(this);var h=a("<div class='jcs_common_search_con'></div>");var l=a("<a id='jcs_search_a'><span class='jcs_common_s_ico' id='searchTypeIco'></span><span class='jcs_common_s_mei' id='jcs-common-search_0'></span></a>");var k=a("<input type='text' id='jcs_mei_s' style='width:"+b.width+";'/>");var i=a("<span class='jcs_common_search'></span>");var e=b.btnClick;var d=b.onFocus;var g=false;if(j.attr("data-destory")!="true"){j.wrap(h);j.attr("data-dom","true")}else{}j.before(l).after(i).focus(function(){d();g=true;document.onkeydown=function(n){var m=document.all?window.event:n;if(m.keyCode==13){e()}}})})}else{if(a(this).attr("data-dom")=="true"){a(this).parents(".jcs_common_search_con").children("a").remove();a(this).parents(".jcs_common_search_con").children("span").remove();a(this).unwrap()}a(this).attr("data-dom","false")}};a.extend(a.fn.advancedSearch,{version:"1.2"})})(jQuery);(function(a){a.fn.dragUpload=function(b){var d={display_width:380,display_height:300,display_form:1,upload_able:[],upload_disable:[],filescontain:["jpg","gif","png","jpeg","doc","docx","xls","xlsx","txt","html","rar","zip","asp","ppt","pptx","avi","exe"],files_size:1024000,dragEnterDiv:function(){},dragOverDiv:function(){},dragDropDiv:function(){},dragLeaveDiv:function(){}};var c=a.extend(d,b);this.each(function(){var q=a(this);var n=c.display_form;var o=0;var k=q[0];var g=a(".draguploadMsg").html();q.css({width:c.display_width,height:c.display_height});if(window.FileReader){k.addEventListener("dragenter",h,false);k.addEventListener("dragover",m,false);k.addEventListener("drop",e,false);k.addEventListener("dragleave",l,false)}else{q.html("很抱歉！您的浏览器不支持此次拖拽上传，请使用chrome,firefox等支持的浏览器")}function e(u){u.stopPropagation();u.preventDefault();r(u);c.dragDropDiv()}function h(u){u.stopPropagation();u.preventDefault();c.dragEnterDiv()}function l(u){c.dragLeaveDiv()}function m(u){u.stopPropagation();u.preventDefault();c.dragOverDiv()}function r(u){switch(n){case 0:j(u);break;case 1:s(u);break}}function j(u){var w=u.dataTransfer.files;var z="";for(var v=0,x;x=w[v];v++){if(x.size<c.files_size){var y=x.name.lastIndexOf(".");fileFormat=x.name.substring(y+1,x.name.length);if(t(fileFormat)){reader=new FileReader();z='<li><img src="images/dragUpload/page.png" class="picIco"/><span>'+x.name+'</span><img src="images/dragUpload/page_cross.gif" class="delBtn"/></li>';reader.readAsDataURL(x)}else{g+="<br/>"+fileFormat+"上传文件格式不正确，请重新选择";q.html(g).css("color","#f60c32")}z="<ul>"+z+"</ul>";q.append(z)}else{g+="<br/>"+x.name+"文件大小超过了上传最大值，请重新选择";q.html(g).css("color","#f60c32")}}}function s(u){var x=u.dataTransfer.files;var A="";var v="images/dragUpload/defaultBig.jpg";for(var w=0,y;y=x[w];w++){if(y.size<c.files_size){var z=y.name.lastIndexOf(".");fileFormat=y.name.substring(z+1,y.name.length);if(t(fileFormat)){reader=new FileReader();isImg=i(fileFormat);if(isImg){reader.onload=(function(B){return function(C){A='<dl><dt><div class="imgDiv"><img src="'+C.target.result+'"/></div><img src="images/dragUpload/closePop.png" class="delBtn"/></dt><dd>'+B.name+"</dd></dl>";q.append(A)}})(y)}else{A='<dl><dt><div class="imgDiv"><img src="images/dragUpload/defaultBig.jpg"/></div><img src="images/dragUpload/closePop.png" class="delBtn"/></dt><dd>'+y.name+"</dd></dl>";q.append(A)}reader.readAsDataURL(y)}else{g+="<br/>"+fileFormat+"上传文件格式不正确，请重新选择";q.html(g).css("color","#f60c32")}}else{g+="<br/>"+y.name+"文件大小超过了上传最大值，请重新选择";q.html(g).css("color","#f60c32")}}}function i(u){switch(u){case"jpeg":case"png":case"gif":case"bmp":case"jpg":return true;default:return false}}function t(v){var u=c.upload_able.length;disableLen=c.upload_disable.length;if((u==0)&&(disableLen==0)){return p(v,c.filescontain)}else{if((u>0)&&(disableLen==0)){return p(v,c.upload_able)}else{if((u==0)&&(disableLen>0)){return !(p(v,c.upload_disable))}else{console.log("仅需要设置只允许上传的或不允许上传的文件格式")}}}}function p(w,u){for(var v=0;v<u.length;v++){if(w==u[v]){return true}}}a(".clearBtn").live("click",function(){a(".draguploadDiv").empty()});a(".delBtn").live("click",function(){switch(n){case 0:a(this).parent("li").remove();break;case 1:a(this).parent().parent().remove();break}})});return this};a.extend(a.fn.dragupload,{version:"1.2",author:"高娜"})})(jQuery);(function(a){a.fn.formLayout=function(b){var d={form_layout:2,form_label_pos:"top",form_label_textalign:"left",form_label_dev:20,form_width:600,form_title:"form标题",form_wordcard:"：",form_colspan:1,form_elem_width:300,form_textarea_height:60,formDisable:function(j){if(a(j).attr("disabled")){a(j).addClass("ui-formCambo-disabled")}var e=a(j).attr("tagName").toLowerCase();if(e=="div"){var h=a(j).find("input");for(var g=0;g<h.length;g++){if((h.eq(g).attr("disabled"))&&!(h.eq(g).attr("checked"))){h.eq(g).next("label").find("span").eq(0).addClass("ui-formCambo-ico-disabled")}else{if((h.eq(g).attr("disabled"))&&(h.eq(g).attr("checked"))){h.eq(g).next("label").find("span").eq(0).addClass("ui-formCambo-ico-checked-disabled")}}}}}};var c=a.extend(d,b);this.each(function(){var h=a(this);a(this).css({width:c.form_width});a(this).find("textarea").height(c.form_textarea_height);i();if(c.form_layout==1){a(this).find(".ui-formLayoutItem").css({display:"block",clear:"both"})}function i(){var j='<div class="ui-formLayoutCon"></div>';h.prepend(j);h.children(".ui-formLayoutInput").each(function(k,l){g(this)});e()}a(".ui-formLayoutInput").live("focus",function(){a(this).addClass("ui-formLayoutInput-active")}).live("blur",function(){a(this).removeClass("ui-formLayoutInput-active")});function g(l){if(a(l).attr("must-fill")&&(a(l).attr("must-fill")=="true")){var k='<div class="ui-formLayoutItem"><label class="ui-formLayoutLabel ui-formLayoutLabel-'+c.form_label_pos+'"><span class="ui-formLayoutFill">*</span>'+a(l).attr("form-elem-title")+c.form_wordcard+'</label><div class="ui-formLayoutValue" ></div>'}else{var k='<div class="ui-formLayoutItem"><label class="ui-formLayoutLabel ui-formLayoutLabel-'+c.form_label_pos+'">'+a(l).attr("form-elem-title")+c.form_wordcard+'</label><div class="ui-formLayoutValue" ></div>'}var j=a(k);h.find(".ui-formLayoutCon").append(j);j.find(".ui-formLayoutValue").append(l);h.find(".ui-formLayoutLabel").css("text-align",c.form_label_textalign);c.formDisable(l)}function e(){var n=h.find(".ui-formLayoutInput");var p;for(var o=0;o<n.length;o++){var q=n.eq(o).attr("form-colspan")||c.form_colspan;var k=h.find(".ui-formLayoutLabel");var l=0;for(var m=0;m<k.length;m++){if(k.eq(m).width()>l){l=k.eq(m).width()}}h.find(".ui-formLayoutLabel").width(l);var r=a(this).attr("elem-width")||((h.width()-c.form_label_dev-l*c.form_layout-20*c.form_layout)/c.form_layout);if(n.eq(o).attr("type")=="select-one"){p=8}else{p=0}if(r>c.form_elem_width){if(q>=2){n.eq(o).width(c.form_elem_width*q+(q-1)*l+c.form_label_dev+p)}else{n.eq(o).width(c.form_elem_width*q+(q-1)*l+p)}}else{if(q>=2){n.eq(o).width(r*q+(q-1)*l+c.form_label_dev+p)}else{n.eq(o).width(r*q+(q-1)*l+p)}}if(n.eq(o).siblings(".ui-formSelect").children(".ui-formSelect-text")){h.find(".ui-formSelect").eq(o).width(n.eq(o).width()+3)}}}});return this};a.extend(a.fn.formLayout,{version:"1.2",author:"高娜"})})(jQuery);function setDisable(b){if(!b.hasClass("ui-formCambo-disabled")){b.addClass("ui-formCambo-disabled")}var a=b.attr("type");if((a=="radio")||(a=="checkbox")){if((b.attr("disabled"))&&!(b.attr("checked"))){b.next("label").find("span").eq(0).addClass("ui-formCambo-ico-disabled")}else{if((b.attr("disabled"))&&(b.attr("checked"))){b.next("label").find("span").eq(0).addClass("ui-formCambo-ico-checked-disabled")}}}}function setEnable(b){if(b.hasClass("ui-formCambo-disabled")){b.removeClass("ui-formCambo-disabled")}var a=b.attr("type");if((a=="radio")||(a=="checkbox")){if(b.next("label").find("span").eq(0).hasClass("ui-formCambo-ico-disabled")){b.next("label").find("span").eq(0).removeClass("ui-formCambo-ico-disabled")}else{if(b.next("label").find("span").eq(0).hasClass("ui-formCambo-ico-checked-disabled")){b.next("label").find("span").eq(0).removeClass("ui-formCambo-ico-checked-disabled").addClass("ui-formCambo-ico-checked")}}}}function setHide(b){var b=document.getElementById(b);var a=b.getAttribute("type");if((a=="checkbox")||(a=="radio")){b.style.display="none";b.nextSibling.nodeValue=" "}else{$(b).parents(".ui-formLayoutItem").css("display","none")}}function setShow(b){var b=document.getElementById(b);var a=b.getAttribute("type");if((a=="checkbox")||(a=="radio")){b.style.display="inline-block";b.nextSibling.nodeValue=b.value}else{$(b).parents(".ui-formLayoutItem").css("display","inline-block")}}(function(a){a.fn.scrollBar=function(b){var d={scroll_width:7,scroll_speed:400,scroll_times:5};if(b!="destory"){a(document).bind("selectstart",function(){return false});var c=a.extend(d,b);this.each(function(){var k=a(this);var v=window.screen.availHeight-180;var w=a('<div class="ui-scrollBarDiv"></div>');var j=a('<div class="ui-scroll"><div class="ui-scrollSlide" id="aaa"></div></div>');if(k.attr("data-dom")!="true"){k.wrap(w).after(j);k.attr("data-dom",true)}else{}var h=0;var p=0;var o=k.parents("div");var r=k.height();o.height(v);var l=navigator.userAgent.indexOf("Firefox");var e=o.height();var y=Math.ceil((r-e)/(c.scroll_times+1));var q=Math.ceil(e/(1.2*(c.scroll_times+1)));a(".ui-scrollBarDiv .ui-scroll .ui-scrollSlide").height(q);$thisSlide=o.find(".ui-scrollSlide");if(r>e){if(l<0){o[0].onmousewheel=function(z){if(a.browser.msie&&a.browser.version<=8){}else{z.preventDefault()}g(z)}}else{o[0].addEventListener("DOMMouseScroll",function(z){z.preventDefault();g(z)},false)}k.mousedown(function(z){z.preventDefault();u(z)});if("ontouchstart" in document.documentElement){k[0].addEventListener("touchstart",s,false)}else{}}else{$thisSlide.css("display","none")}var x;var i;var m=r-e;function g(B){var z=parseInt(k.css("marginTop"));var A=(Math.abs(z)<=Math.abs(m));if((z<=0)&&A){if(!i){if(l<0){h-=q*(event.wheelDelta/120);p+=y*(event.wheelDelta/120)}else{h+=q*(B.detail/3);p-=y*(B.detail/3)}i=true;clearInterval(x);x=setTimeout(function(){i=false},150)}else{}}else{if(z>0){h=0;p=0}else{if(!A){h=e-1.4*y;p=0-m}}}o.find(".ui-scrollSlide").animate({top:h},c.scroll_speed);k.animate({marginTop:p},c.scroll_speed)}function u(C){var z=1;var D=C.clientY;var A=parseInt(k.css("marginTop"));var B=(Math.abs(A)<=Math.abs(m));k.mousemove(function(F){if(z){var G=(F.clientY-D);var E=Math.abs(G);if((A<=0)&&B){h-=q*(G/E);p+=y*(G/E)}else{if(A>0){h=0;p=0}else{if(!B){h=e-1.4*y;p=0-m}}}z=0;o.find(".ui-scrollSlide").animate({top:h},c.scroll_speed);k.animate({marginTop:p},c.scroll_speed)}});k.mouseup(function(E){z=0})}function s(z){z.preventDefault();signTouch=1;touchBeginY=parseInt(z.targetTouches[0].pageY);marTouchTop=parseInt(k.css("marginTop"));botTouchTop=(Math.abs(marTouchTop)<=Math.abs(m));k[0].addEventListener("touchmove",n,false);k[0].addEventListener("touchend",t,false)}function n(B){if(signTouch){var A=B.targetTouches[0].pageY;var C=A-touchBeginY;var z=Math.abs(C);if((marTouchTop<=0)&&botTouchTop){h-=q*(C/z);p+=y*(C/z)}else{if(marTouchTop>0){h=0;p=0}else{if(!botTouchTop){h=e-1.4*y;p=0-m}}}signTouch=0;o.find(".ui-scrollSlide").animate({top:h},c.scroll_speed);k.animate({marginTop:p},c.scroll_speed)}}function t(z){signTouch=0}a(window).resize(function(){k.scrollBar()})});return this}else{if(a(this).attr("data-dom")=="true"){a(this).parents(".ui-scrollBarDiv").find(".ui-scroll").remove();a(this).unwrap(".ui-scrollBarDiv");a(this).unbind("mousedown")}a(this).attr("data-dom","false")}};a.extend(a.fn.scrollBar,{version:"1.2",author:"高娜"})})(jQuery);(function(a,b){a.widget("ui.menuSelect",{options:{json:"",data:"",fn:function(){},getMoreDepts:function(){},getMoreUsers:function(){},listId:""},_create:function(){},_init:function(){var e=this.options,p=this.element,g=a("<div />").addClass("ui-menuSelect").append("<ul class='ui-menuSelect-ul'/>").attr("id",e.listId);g.find("ul").append("<li>菜单列表</li><li>菜单列表</li><li>菜单列表</li><li>菜单列表</li>"),fn=e.fn;if(e.json){a.getJSON(e.json,function(o){g.find("ul").empty();var q="";a.each(o,function(r,t){var s="<li id='"+t.id+"'><input type='checkbox' id='"+t.id+"' name='menuSelectCheckbox' value='"+t.menuSelect+"'/>"+t.menuSelect+"<input type='hidden' name='menuSelect' value='"+t.menuSelect+"'/>";if(t.DeptOrUser){s+="<a href='#' id='"+t.DeptOrUser+"' class='ui-menuSelect-selectUrl'>选择</a>";q+=t.DeptOrUser+","}s+="</li>";g.find("ul.ui-menuSelect-ul").append(s)});var i=q.split(",");a("#"+i[0]).live("click",function(){e.getMoreDepts()});a("#"+i[1]).live("click",function(){e.getMoreUsers()});g.find("li.ui-menuSelect-li").hover(function(){a(this).addClass("h")},function(){a(this).removeClass("h")});return false})}if(e.data){g.find("ul").empty();var n="";var l=e.data.split("{'id':");var k="";for(var j=1;j<l.length;j++){var d=l[j].substring(1,l[j].indexOf("',"));var c=l[j].substring(l[j].indexOf("menuSelect")+13,l[j].lastIndexOf("'"));var h=l[j].substring(l[j].indexOf("DeptOrUser")+13,l[j].lastIndexOf("'"));k+="<li id='"+d+"'><input type='checkbox' id='"+d+"' name='menuSelectCheckbox' value='"+c+"'/>";if(l[j].indexOf("DeptOrUser")!=-1){c=c.substring(0,l[j].indexOf(",")+1);k+=c+"<input type='hidden' name='menuSelect' value='"+c+"'/><a href='#' id='"+h+"' class='ui-menuSelect-selectUrl'>选择</a>";n+=h+","}else{k+=c+"<input type='hidden' name='menuSelect' value='"+c+"'/>"}k+="</li>"}g.find("ul.ui-menuSelect-ul").append(k);var l=n.split(",");a("#"+l[0]).live("click",function(){e.getMoreDepts()});a("#"+l[1]).live("click",function(){e.getMoreUsers()})}if(p.is(".buttonPro")){p=p.parent().parent()}g.insertAfter(p);g.position({of:p,my:"left top",at:"left bottom"});p.unbind("click").bind("click",function(i){g.slideToggle(100);i.stopPropagation()});fn();a("#"+e.listId).click(function(){var r=a("#"+e.listId+" ul li>input[type='checkbox']");var t="";var v="";for(var s=0;s<r.length;s++){if(r[s].checked==true){t+=r[s].id+",";v+=r[s].value+","}}var o=a("#"+e.listId).prev().children().children("input.menuSelect");var q=v.substring(0,v.length-1);var u=o.value;if(q!=null&&q!=""){a(o).attr("title",q);if(q.length>10){q=q.substring(0,10)+"..."}a(o).attr("value",q)}else{a(o).attr("value","下拉单选菜单列表")}});var m=true;a(".ui-menuSelect").mouseover(function(){m=false}).mouseout(function(){m=true});p.mouseover(function(){m=false});a(document).bind("mousedown",function(){var i=document.getElementById(e.listId);if(i.style.display!="none"&&m){i.style.display="none"}})},destroy:function(){if(_self.is(".buttonPro")){this.element.unbind("click").parent().parent().next(".ui-menuSelect").remove()}else{this.element.unbind("click").next(".ui-menuSelect").remove()}}});a.extend(a.ui.menuSelect,{version:"1.2"})})(jQuery);(function($,undefined){$.widget("ui.menuSingleSelect",{options:{json:"",data:"",titleJson:"",fn:function(){},getMoreUsers:function(){},getMoreDepts:function(){},listId:"",ids:"",names:"",defaultClick:true,showTitle:"点击选择范围▼",firstClick:false},_create:function(){},_init:function(){var o=this.options,_self=this.element;var _menuSingleSelect=$("<div name='menuSingeSelectDiv' />").addClass("ui-menuSingleSelect").append("<ul class='ui-menuSingleSelect-ul'/>").attr("id",o.listId);fn=o.fn;if(o.json&&o.data==""){$.getJSON(o.json,function(data){getJsonOrData(data)})}if(o.data&&o.json==""){var jsondata=eval(o.data);getJsonOrData(jsondata)}function getJsonOrData(data){_menuSingleSelect.find("ul").empty();var usersId="";var deptsId="";var html="";$.each(data,function(entryIndex,entry){html+="<li id='li"+entry.id+"'>";usersId=entry.DeptOrUser;if(usersId){html+="<input type='checkbox' id='"+entry.id+"' name='menuOnlySelectCheckbox' value='"+entry.menuSingleSelect+"'/>"+entry.menuSingleSelect+"<a href='#' id='"+usersId+"' class='ui-menuSingleSelect-selectUrl'>选择</a>";if(entry.isDept=="yes"){deptsId=usersId}}else{if(entry.isCheckBox=="yes"){html+="<input type='checkbox' id='"+entry.id+"' name='menuOnlySelectCheckbox' value='"+entry.menuSingleSelect+"' level = '1' />"+entry.menuSingleSelect}else{html+="<input type='radio' id='"+entry.id+"' name='menuOnlySelectRadio' value='"+entry.menuSingleSelect+"'/>"+entry.menuSingleSelect}}var arr=entry.menuSelect;if(arr){html+="<ul>";for(var i=0;i<arr.length;i++){html+="<li id='li"+arr[i]["selectId"]+"' class='ui-menuSingleSelect-li'><input type='checkbox' name='radioCheckbox' id='"+arr[i]["selectId"]+"' value='"+arr[i]["selectData"]+"'/>"+arr[i]["selectData"];if(arr[i]["selectUrl"]){deptsId=arr[i]["selectUrl"];html+="<a href='#' id='"+deptsId+"' class='ui-menuSingleSelect-selectUrl'>选择</a>"}html+="</li>"}html+="</ul>"}html+="</li>"});_menuSingleSelect.find("ul.ui-menuSingleSelect-ul").append(html);$("#"+usersId).live("click",function(){o.getMoreUsers()});$("#"+deptsId).live("click",function(){o.getMoreDepts()});return false}if(_self.is(".buttonPro")||_self.is(".buttonLight")){_self=_self.parent().parent()}_menuSingleSelect.append("<input type='hidden' id='menuSingleSelect"+o.ids+"' name='menuSingleSelect' value='menuSingleSelect"+o.names+"'/>");_menuSingleSelect.insertAfter(_self);setTimeout(function(){getIdsNames()},0);function getIdsNames(){if((o.ids!=""&&o.names!="")||o.firstClick){var but=$("#"+o.listId).prev().children().children("input.menuSingleSelect");but.attr("value",o.names).attr("title",o.names);if(o.names>10){var butName=o.names.substring(0,10)+"...";but.attr("value",butName)}var trueId=o.listId.substring(4,o.listId.length);var arrIds=o.ids.split(",");for(var i=0;i<arrIds.length;i++){var _inputs=document.getElementById(arrIds[i]+trueId);if(_inputs!=null){_inputs.checked=true}}for(var j=0;j<arrIds.length;j++){var _input=document.getElementById(arrIds[j]+trueId);if(_input!=null){if(_input.type=="radio"){var $lis=$("#"+arrIds[j]+trueId).parent().parent().children().children("input");$lis.each(function(){if($(this).attr("id")!=(arrIds[j]+trueId)){var $li_inputs=$(this).next("ul").children("li").children("input");$li_inputs.each(function(){if(!$(this).checked){if($(this).attr("class")!="ui-menuSingleSelect-selectUrl"){this.disabled=true}}})}})}if(_input.type=="checkbox"){var $f_input=$("#"+arrIds[j]+trueId).parent("li").parent("ul").prev("input");if($f_input.size()!=0){$f_input[0].checked="checked";var $f_inputId=$($f_input[0]).attr("id");var $ra_inputs=$("#"+$f_inputId).parent().parent().children().children("input[type='radio']");$ra_inputs.each(function(){if(!this.checked){var $boxs_inputs=$(this).next().children().children();$boxs_inputs.each(function(){if($(this).attr("class")!="ui-menuSingleSelect-selectUrl"){this.disabled=true}})}})}}}}}}fn();$("#"+o.listId+" >ul>li").find("input").click(function(){var inputs=$("#"+o.listId+" >ul>li>input");var allInputs=$("#"+o.listId+" ul li input");var ids="";var names="";var allflag=true;if(this.type=="radio"){var tempStr=radioSelect(this,ids,names,o.listId);if(tempStr=="-"){ids=this.id.substring(0,1)+",";names=this.value+","}else{ids=tempStr.split("-")[0]+this.id.substring(0,1)+",";names=tempStr.split("-")[1]}}else{if(this.level=="1"){var radioObj;$("#"+o.listId+" >ul>li").find("input[type='radio']").each(function(){if(this.checked){radioObj=$(this)}});var tempStr=radioSelect(radioObj,"","",o.listId);if(tempStr!="-"){ids=tempStr.split("-")[0];names=tempStr.split("-")[1]}if(radioObj!=null&&radioObj!="undefind"&&radioObj.val()!=null&&radioObj.val()!="undefined"){ids=ids+radioObj.attr("id").substring(0,1)}}else{var radioObj=$(this).parent().parent().parent().find("input[type='radio']");if(this.checked){radioObj.attr("checked",this.checked)}var tempStr=radioSelect(radioObj,ids,names,o.listId);if(tempStr=="-"){ids=radioObj.attr("id").substring(0,1)+",";names=radioObj.val()+","}else{ids=tempStr.split("-")[0];names=tempStr.split("-")[1]}if(radioObj!=null&&radioObj!="undefind"&&radioObj.val()!=null&&radioObj.val()!="undefined"){ids=ids+radioObj.attr("id").substring(0,1)}}}var _input=$("#"+o.listId+" >input[type='hidden']");o.ids="menuSingleSelect"+ids.substring(0,ids.length-1);o.names="menuSingleSelect"+names.substring(0,names.length-1);_input.attr("id",o.ids);_input.val(o.names);var but=$("#"+o.listId).prev().children().children("input.menuSingleSelect");var butName=names.substring(0,names.length-1);if(but.size()!=0){var value=but.value;if(butName!=null&&butName!=""){if(butName.length>10){butName=butName.substring(0,10)+"..."}$(but).attr("value",butName)}else{$(but).attr("value",o.showTitle)}}else{but=$("#"+o.listId).prev("a");var butText=but.text();if(butName!=null&&butName!=""){if(butName.length>10){butName=butName.substring(0,10)+"..."}but.text(butName)}else{but.text(o.showTitle)}}if(allflag){fn(o.listId.substring(4))}});var flag=true;_menuSingleSelect.mouseover(function(){flag=false}).mouseout(function(){flag=true});_self.mouseover(function(){flag=false}).mouseout(function(){flag=true});$(document).bind("click",function(){getButtonLightCss();var div=document.getElementById(o.listId);if(div==null||div==""||div=="undefined"){return}if(div.style.display!="none"&&flag){div.style.display="none"}});var height;var targetDom=document.getElementById(_self.attr("id"));setTimeout(function(){height=_menuSingleSelect.height();if(o.defaultClick){var div=document.getElementById(o.listId);div.style.display="block";o.defaultClick=false}},0);if(_menuSingleSelect.css("display")=="none"){getPosition(targetDom)}$(window).bind("resize",function(){_menuSingleSelect.slideUp()}).bind("scroll",function(){_menuSingleSelect.slideUp()});_self.unbind("click").bind("click",function(event){_menuSingleSelect.slideToggle(100);var $divs=$(".ui-menuSingleSelect");for(var i=0;i<$divs.length;i++){if($($divs[i]).attr("id")!=o.listId){$divs[i].style.display="none"}}var $dis=_menuSingleSelect.css("display");if($dis=="none"){getButtonLightCss();getPosition(targetDom)}event.stopPropagation()});function getTitleLeft(e){var i=e.offsetLeft;if(e.offsetParent!=null){i+=getTitleLeft(e.offsetParent)}return i}function getTitleTop(e){var i=e.offsetTop;if(e.offsetParent!=null){i+=getTitleTop(e.offsetParent)}return i}function getPosition(ev){_menuSingleSelect.css({left:-1000,top:-1000,display:"block"});var elemWidth=ev.offsetWidth;var elemHeight=ev.offsetHeight;var elemLeft=getTitleLeft(ev);var elemTop=getTitleTop(ev);var width=$(window).width();var height=$(window).height();var wid=_menuSingleSelect.width();var hei=_menuSingleSelect.height();var x,y;if((elemLeft+wid)<=width&&(elemTop+elemHeight+hei)<=height-10){x=elemLeft;y=elemTop+elemHeight}else{if((elemLeft+wid)<=width&&(elemTop+elemHeight+hei)>height-10){x=elemLeft;y=elemTop-hei-5}else{if((elemLeft+wid)>width&&(elemTop+elemHeight+hei)<=height-10){x=width-wid-10;y=elemTop+elemHeight}else{if((elemLeft+wid)>width&&(elemTop+elemHeight+hei)>height-10){x=width-wid-10;y=elemTop-hei-5}}}}_menuSingleSelect.css({left:x,top:y})}function getButtonLightCss(){var div=document.getElementById(o.listId);var $buttonLight=$(div).prev(".ui-buttonLight");if($buttonLight.size!=0){if(div.style.display=="none"){$buttonLight.css({"background-position":"0% 0%"})}else{$(".ui-buttonLight").css({"background-position":"0% 0%"});$buttonLight.css({"background-position":"right -120px"})}}}},destroy:function(){if(this.element.is(".buttonPro")||this.element.is(".buttonLight")){this.element.unbind("click").parent().parent().next(".ui-menuSingleSelect").remove()}else{this.element.unbind("click").next(".ui-menuSingleSelect").remove()}}});function radioSelect(obj,ids,names,listId){$("#"+listId+" >ul>li").find("input").each(function(){if(this.type!="radio"&&this.level!=1){$(this).attr("disabled",true)}});$(obj).parent().find("ul>li>input").each(function(){$(this).attr("disabled",false);if(this.checked){ids=ids+this.id.substring(0,1)+",";names=names+this.value+","}});var $otherUsers=$("#"+listId+" >ul>li>input[type='checkbox']");if($otherUsers.val()!=null&&$otherUsers.val()!="undefined"){$otherUsers.each(function(){if(this.checked){ids=ids+$(this).attr("id").substring(0,1)+",";names=names+$(this).val()+","}})}return ids+"-"+names}function reloadNameAndIds(obj,radioStr){var id=obj.attr("id");var trueId=id.substring(4,id.length);var arrIds="";var tempIds=$("#"+id+" >input[type='hidden']").attr("id");obj.find("input[type='checkbox']").attr("checked",false);arrIds=tempIds.substring(16,tempIds.length).split(",");for(var i=0;i<arrIds.length;i++){if($("#"+arrIds[i]+trueId).attr("checked")!=null&&$("#"+arrIds[i]+trueId).attr("checked")!="undefined"){$("#"+arrIds[i]+trueId).attr("checked","checked")}}var radioObj;$("#"+id+" >ul>li").find("input[type='radio']").each(function(){if(this.id.substring(0,3)==radioStr){radioObj=this;$(radioObj).attr("checked",true)}});radioSelect(radioObj,"","",id)}$.extend($.ui.menuSingleSelect,{version:"1.2"})})(jQuery);(function(a,b){a.widget("ui.maxLength",{options:{maxCharacters:10,intercept:false,status:true,statusClass:"ui-maxLength-statusClass",statusText:"您可以输入的字符个数为：",notificationClass:"ui-maxLength-notification",showAlert:false,alertText:"您输入的字数太多了！",slider:false,events:["keyup"]},_create:function(){},_init:function(){var e=this.options,h=a(this.element),k=h.val().length;function c(){var l=e.maxCharacters-k;if(l<0){if(e.intercept){l=0}}h.next("div").html(e.statusText+l)}function d(){var l=true;if(k>=e.maxCharacters){l=false;h.addClass(e.notificationClass);if(e.intercept){h.val(h.val().substr(0,e.maxCharacters))}else{c()}j();h.blur(function(){if(h.hasClass(e.notificationClass)){h.removeClass(e.notificationClass)}}).focus(function(){h.addClass(e.notificationClass)})}else{if(h.hasClass(e.notificationClass)){h.removeClass(e.notificationClass)}}if(e.status){c()}}function j(){if(e.showAlert){alert(e.alertText)}}function g(){var l=false;if(h.is("textarea")){l=true}else{if(h.is("input[type=text]")){l=true}else{if(h.is("input[type=password]")){l=true}else{if(h.attr("contentEditable")){k=h.text().length;l=true}}}}return l}if(!g()){return false}a.each(e.events,function(l,m){h.bind(m,function(n){if(h.is("textarea")||h.is("input")){k=h.val().length}else{k=h.text().length}d()})});if(e.status){h.after(a("<div/>").addClass(e.statusClass).html("-"));c()}if(!e.status){var i=h.next("div."+e.statusClass);if(i){i.remove()}}if(e.slider){h.next().hide();h.focus(function(){h.next().slideDown("fast")});h.blur(function(){h.next().slideUp("fast")})}}});a.extend(a.ui.maxLength,{version:"1.0",author:"黄卉"})})(jQuery);(function(c){var a=(c.browser.msie?"paste":"input")+".mask";var b=(window.orientation!=undefined);c.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"};c.fn.extend({caret:function(g,d){if(this.length==0){return}if(typeof g=="number"){d=(typeof d=="number")?d:g;return this.each(function(){if(this.setSelectionRange){this.setSelectionRange(g,d)}else{if(this.createTextRange){var h=this.createTextRange();h.collapse(true);h.moveEnd("character",d);h.moveStart("character",g);h.select()}}})}else{if(this[0].setSelectionRange){g=this[0].selectionStart;d=this[0].selectionEnd}else{if(document.selection&&document.selection.createRange){var e=document.selection.createRange();g=0-e.duplicate().moveStart("character",-100000);d=g+e.text.length}}return{begin:g,end:d}}},unmask:function(){return this.trigger("unmask")},mask:function(g,k){if(!g&&this.length>0){var h=c(this[0]);return h.data(c.mask.dataName)()}k=c.extend({placeholder:"_",completed:null},k);var e=c.mask.definitions;var j=[];var l=g.length;var i=null;var d=g.length;c.each(g.split(""),function(m,n){if(n=="?"){d--;l=m}else{if(e[n]){j.push(new RegExp(e[n]));if(i==null){i=j.length-1}}else{j.push(null)}}});return this.trigger("unmask").each(function(){var v=c(this);var q=c.map(g.split(""),function(z,y){if(z!="?"){return e[z]?k.placeholder:z}});var x=v.val();function u(y){while(++y<=d&&!j[y]){}return y}function r(y){while(--y>=0&&!j[y]){}return y}function p(B,y){if(B<0){return}for(var A=B,z=u(y);A<d;A++){if(j[A]){if(z<d&&j[A].test(q[z])){q[A]=q[z];q[z]=k.placeholder}else{break}z=u(z)}}t();v.caret(Math.max(i,B))}function m(C){for(var A=C,B=k.placeholder;A<d;A++){if(j[A]){var y=u(A);var z=q[A];q[A]=B;if(y<d&&j[y].test(z)){B=z}else{break}}}}function s(B){var z=B.which;if(z==8||z==46||(b&&z==127)){var C=v.caret(),A=C.begin,y=C.end;if(y-A==0){A=z!=46?r(A):(y=u(A-1));y=z==46?u(y):y}n(A,y);p(A,y-1);return false}else{if(z==27){v.val(x);v.caret(0,o());return false}}}function w(B){var y=B.which,D=v.caret();if(B.ctrlKey||B.altKey||B.metaKey||y<32){return true}else{if(y){if(D.end-D.begin!=0){n(D.begin,D.end);p(D.begin,D.end-1)}var A=u(D.begin-1);if(A<d){var C=String.fromCharCode(y);if(j[A].test(C)){m(A);q[A]=C;t();var z=u(A);v.caret(z);if(k.completed&&z>=d){k.completed.call(v)}}}return false}}}function n(A,y){for(var z=A;z<y&&z<d;z++){if(j[z]){q[z]=k.placeholder}}}function t(){return v.val(q.join("")).val()}function o(z){var D=v.val();var C=-1;for(var y=0,B=0;y<d;y++){if(j[y]){q[y]=k.placeholder;while(B++<D.length){var A=D.charAt(B-1);if(j[y].test(A)){q[y]=A;C=y;break}}if(B>D.length){break}}else{if(q[y]==D.charAt(B)&&y!=l){B++;C=y}}}if(!z&&C+1<l){v.val("");n(0,d)}else{if(z||C+1>=l){t();if(!z){v.val(v.val().substring(0,C+1))}}}return(l?y:i)}v.data(c.mask.dataName,function(){return c.map(q,function(z,y){return j[y]&&z!=k.placeholder?z:null}).join("")});if(!v.attr("readonly")){v.one("unmask",function(){v.unbind(".mask").removeData(c.mask.dataName)}).bind("focus.mask",function(){x=v.val();var z=o();t();var y=function(){if(z==g.length){v.caret(0,z)}else{v.caret(z)}};(c.browser.msie?y:function(){setTimeout(y,0)})()}).bind("blur.mask",function(){o();if(v.val()!=x){v.change()}}).bind("keydown.mask",s).bind("keypress.mask",w).bind(a,function(){setTimeout(function(){v.caret(o(true))},0)})}o()})}})})(jQuery);(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length){settings.single="metadata"}var data=$.data(elem,settings.single);if(data){return data}data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1]}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return undefined}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML)}}else{if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr}}}}if(data.indexOf("{")<0){data="{"+data+"}"}data=eval("("+data+")");$.data(elem,settings.single,data);return data}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts)}})(jQuery);(function($,undefined){$.widget("ui.verification",{options:{verSplit:"-",verPromptMobile:"请输入11位数字",verPromptString:"请输入a-z或是A-Z",verPromptNumber:"请输入有效数字",verFloatDigit:2,verPromptPhone:"输入固定电话",verPromptEmail:"输入有效的email地址",verPromptUrl:"输入有效的链接地址",verPromptIP:"输入有效的IP地址",verPromptTime:"输入有效的时间",verPromptAttendance:"输入有效的考勤"},_create:function(){var self=this.element;var parDiv='<div class="parDiv"></div>';self.wrap(parDiv)},_init:function(){var o=this.options;var self=this.element;var veifType=self.attr("data-verif");var verifFun;if(veifType){switch(veifType){case"verMobile":(self.val()=="")?self.val(o.verPromptMobile).addClass("varPrompt").attr("data-val",o.verPromptMobile):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verMobile;break;case"verString":(self.val()=="")?self.val(o.verPromptString).addClass("varPrompt").attr("data-val",o.verPromptString):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verString;break;case"verNumber":(self.val()=="")?self.val(o.verPromptNumber).addClass("varPrompt").attr("data-val",o.verPromptNumber):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verNumber;break;case"verPhone":(self.val()=="")?self.val(o.verPromptPhone).addClass("varPrompt").attr("data-val",o.verPromptPhone):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verPhone;break;case"verEmail":(self.val()=="")?self.val(o.verPromptEmail).addClass("varPrompt").attr("data-val",o.verPromptEmail):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verEmail;break;case"verUrl":(self.val()=="")?self.val(o.verPromptUrl).addClass("varPrompt").attr("data-val",o.verPromptUrl):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verUrl;break;case"verIP":(self.val()=="")?self.val(o.verPromptIP).addClass("varPrompt").attr("data-val",o.verPromptIP):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verIP;break;case"verTime":(self.val()=="")?self.val(o.verPromptTime).addClass("varPrompt").attr("data-val",o.verPromptTime):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verTime;break;case"verAttendance":(self.val()=="")?self.val(o.verPromptAttendance).addClass("varPrompt").attr("data-val",o.verPromptAttendance):self.addClass("varPrompt").attr("data-val",self.val());verifFun=verAttendance;break}}else{return false}self.focus(function(){self.removeClass("varPrompt").removeClass("inputPrompt");verifFun()});function isNumber(letter){if(((letter<=57)&&(letter>=48))||((letter<=105)&&(letter>=96))){return true}else{return false}}function isLetter(letter){if((letter<=90)&&(letter>=65)){return true}else{return false}}function isInArr(targetElem,sourceArr){for(var i=0;i<sourceArr.length;i++){if(targetElem==sourceArr[i]){return true}}}var commonKeyArr=new Array("8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","91","92","93","112","113","114","115","116","117","118","119","120","121","122","123","144","145");function isCommonKey(letter){var isCom=isInArr(letter,commonKeyArr);if(isCom){return true}else{return false}}function isLeapYear(pYear){if(!isNaN(parseInt(pYear))){if((pYear%4==0)&&(pYear%100!=0)||(pYear%100==0)&&(pYear%400==0)){return true}else{return false}}}function createBubble(obj,bubconmsg){$(obj).bubble("temBub",true,{x:$(obj).offset().left+10,y:$(obj).offset().top+4,content:bubconmsg,hand:"leftTop"});setTimeout(function(){$("#temBub").detach()},500)}function keydownNumber(objkey,maxLengthkey,focusObjkey,frontFocuskey){objkey.keydown(function(e){var inputLetter=e.which;if(!isCommonKey(inputLetter)){var lenTim=objkey.val().length;if(maxLengthkey!="placeholderKey"){if(lenTim<maxLengthkey){if(isNumber(inputLetter)){}else{return false}}else{if(focusObjkey!="placeholderKey"){focusObjkey.focus()}return false}}else{if(isNumber(inputLetter)){}else{return false}}}if(focusObjkey!="placeholderKey"){if(inputLetter==9){focusObjkey.focus(function(){focusObjkey.attr("data-focus",true)})}}if(frontFocuskey!="placeholderKey"){if(inputLetter==8){var objkeyLen=objkey.val().length;if(objkeyLen==0){frontFocuskey.focus()}}}})}function documentFocus(objFocus,classArr,documentFocusVal){var isDocument=true;$(document).focus(function(e){isDocument=false;var target=e.target;var isHasNull;var classObj;if(!isInArr($(target).attr("class").split(" ")[0],classArr)){for(var i=0;i<classArr.length;i++){classObj=eval('$(".'+classArr[i]+'")');if(classObj.val()==""){isHasNull=true}}if(isHasNull){self.val(documentFocusVal).show().addClass("inputPrompt")}else{self.val(documentFocusVal).show()}objFocus.parent(".EditDiv").hide()}});if(isDocument==true){$(document).click(function(e){var target=e.target;var isHasNull;var classObj;if(!isInArr($(target).attr("class").split(" ")[0],classArr)){for(var i=0;i<classArr.length;i++){classObj=eval('$(".'+classArr[i]+'")');if(classObj.val()==""){isHasNull=true}}if(isHasNull){self.val(documentFocusVal).show().addClass("inputPrompt")}else{self.val(documentFocusVal).show()}objFocus.parent(".EditDiv").hide()}})}}function verMobile(){if(self.val()==o.verPromptMobile){self.val("")}var mobileLen=11;keydownNumber(self,mobileLen,"placeholderKey","placeholderKey");self.blur(function(){if(self.val().length<mobileLen){createBubble(self,"请输入11位的手机号码");self.addClass("inputPrompt")}})}function verString(){if(self.val()==o.verPromptString){self.val("").removeClass("varPrompt")}self.keydown(function(e){var inputLetter=e.which;if(isLetter(inputLetter)||isCommonKey(inputLetter)){}else{return false}});self.blur(function(){if(self.val()==""){createBubble(self,"不能为空");self.addClass("inputPrompt")}})}function verNumber(){if(self.val()==o.verPromptNumber){self.val("")}else{if(self.parent(".parDiv").find(".EditDiv").css("display")=="none"){self.hide();self.parent(".parDiv").find(".EditDiv").show()}}var range=self.attr("data-range");if(range){var numRange=range.split(",");var minRanage=numRange[0];var maxRanage=numRange[1];var maxLen=maxRanage.length;if(numRange[2]){var numberType=numRange[2]}else{var numberType="integer"}switch(numberType){case"integer":intNumber(minRanage,maxRanage,numberType,maxLen);break;case"percentage":var isPer=self.attr("data-isPer");if(!isPer){self.after("%");self.attr("data-isPer","false")}intNumber(minRanage,maxRanage,numberType,maxLen);break;case"float":floNumber(minRanage,maxRanage,numberType,maxLen);break}}else{self.show();keydownNumber(self,"placeholderKey","placeholderKey","placeholderKey");self.blur(function(){if(self.val()==""){createBubble(self,"不能为空");self.addClass("inputPrompt")}})}}function intNumber(minRanage,maxRanage,numberType,maxLen){keydownNumber(self,maxLen,"placeholderKey","placeholderKey");self.blur(function(){var tarVal=parseInt(self.val());if(tarVal<parseInt(minRanage)){var bubconmsg="输入数字范围为"+minRanage+"-"+maxRanage+",输入内容小于"+minRanage+",默认为"+minRanage;createBubble(self,bubconmsg);self.val(minRanage)}else{if(tarVal>parseInt(maxRanage)){var bubconmsg="输入数字范围为"+minRanage+"-"+maxRanage+",输入内容大于"+maxRanage+",默认为"+maxRanage;createBubble(self,bubconmsg);self.val(maxRanage)}else{if(self.val()==""){createBubble(self,"不能为空");self.addClass("inputPrompt")}}}})}function floNumber(minRanage,maxRanage,numberType,maxLen){var isHasFl=self.attr("data-isHasFl");if(self.attr("data-val")!=o.verPromptNumber){var tarVal=self.val().split(".")}else{defVal=".";var tarVal=defVal.split(".")}if(!isHasFl){self.after('<div class="EditDiv"><input type="text" class="inputInter" value="'+tarVal[0]+'"/><span class="decPoint">.</span><input type="text" class="inputFloat" value="'+tarVal[1]+'" /></div>');self.attr("data-isHasFl","false")}var selfFloInt=self.parent(".parDiv").find(".EditDiv").children("input.inputInter");var selfFloFlo=self.parent(".parDiv").find(".EditDiv").children("input.inputFloat");self.hide();selfFloInt.focus();keydownNumber(selfFloInt,maxLen,selfFloFlo,"placeholderKey");keydownNumber(selfFloFlo,o.verFloatDigit,"placeholderKey",selfFloInt);selfFloInt.blur(function(){var tarVal=parseInt(selfFloInt.val());if(tarVal<parseInt(minRanage)){var bubconmsg="输入数字范围为"+minRanage+"-"+maxRanage+",输入内容小于"+minRanage+",默认为"+minRanage;createBubble(selfFloFlo,bubconmsg);selfFloInt.val(minRanage);self.val(minRanage+".00")}else{if(tarVal>=parseInt(maxRanage)){var bubconmsg="输入数字范围为"+minRanage+"-"+maxRanage+",输入内容大于"+maxRanage+",默认为"+maxRanage;createBubble(selfFloFlo,bubconmsg);selfFloInt.val(maxRanage);selfFloFlo.val("00")}}var classArr=new Array("inputInter","inputFloat");var targetInputVal=selfFloInt.val()+"."+selfFloFlo.val();selfFloInt.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfFloInt,classArr,targetInputVal)});selfFloFlo.blur(function(){selfFloFlo.attr("data-focus",false);var floVal=selfFloFlo.val();if(floVal.length==1){selfFloFlo.val(floVal+"0")}else{if(floVal.length==0){selfFloFlo.val(floVal+"00")}}if(selfFloInt.val()==""){createBubble(selfFloFlo,"不能为空");selfFloInt.addClass("inputPrompt")}var classArr=new Array("inputInter","inputFloat");var targetInputVal=selfFloInt.val()+"."+selfFloFlo.val();selfFloFlo.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfFloFlo,classArr,targetInputVal)})}function verPhone(){if(self.val()==o.verPromptPhone){self.val("")}else{if(self.parent(".parDiv").find(".EditDiv").css("display")=="none"){self.hide();self.parent(".parDiv").find(".EditDiv").show()}}var isHasFl=self.attr("data-isHasFl");var areaCodeLen=3;var phoneLen=8;var phoneExtLen=3;if(self.attr("data-val")!=o.verPromptPhone){var tarVal=self.val().split(o.verSplit)}else{defVal=o.verSplit+o.verSplit+o.verSplit;var tarVal=defVal.split(o.verSplit)}if(!isHasFl){self.after('<div class="EditDiv"><span class="decPoint">0</span><input type="text" class="inputAreaCode" value="'+tarVal[0]+'"/><span class="decPoint">'+o.verSplit+'</span><input type="text" class="inputPhoneNumber" value="'+tarVal[1]+'"/><span class="decPoint">'+o.verSplit+'</span><input type="text" class="inputPhoneExt" value="'+tarVal[2]+'"/></div>');self.attr("data-isHasFl","false")}var selfAreaCode=self.hide().nextAll(".EditDiv").children("input.inputAreaCode");var selfPhone=self.hide().nextAll(".EditDiv").children("input.inputPhoneNumber");var selfExt=self.hide().nextAll(".EditDiv").children("input.inputPhoneExt");self.hide();selfAreaCode.focus();keydownNumber(selfAreaCode,areaCodeLen,selfPhone,"placeholderKey");selfAreaCode.blur(function(){var areaCodeVal=selfAreaCode.val();if(areaCodeVal==""){createBubble(selfAreaCode,"不能为空");selfAreaCode.addClass("inputPrompt")}else{if(parseInt(areaCodeVal)<10){createBubble(selfAreaCode,"输入数字范围为10-999输入内容小于10,默认为10");selfAreaCode.val("10")}}var classArr=new Array("inputAreaCode","inputPhoneNumber","inputPhoneExt");var targetInputVal="0"+selfAreaCode.val()+o.verSplit+selfPhone.val()+o.verSplit+selfExt.val();selfAreaCode.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfAreaCode,classArr,targetInputVal)});keydownNumber(selfPhone,phoneLen,selfExt,selfAreaCode);selfPhone.blur(function(){var pnoneVal=selfPhone.val();if(pnoneVal==""){createBubble(selfAreaCode,"不能为空");selfPhone.addClass("inputPrompt")}var classArr=new Array("inputAreaCode","inputPhoneNumber","inputPhoneExt");var targetInputVal="0"+selfAreaCode.val()+o.verSplit+selfPhone.val()+o.verSplit+selfExt.val();selfPhone.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfPhone,classArr,targetInputVal)});keydownNumber(selfExt,"placeholderKey","placeholderKey",selfPhone);selfExt.blur(function(){var extVal=selfExt.val();if(extVal.length<1){var targetInputVal="0"+selfAreaCode.val()+o.verSplit+selfPhone.val()}else{var targetInputVal="0"+selfAreaCode.val()+o.verSplit+selfPhone.val()+o.verSplit+selfExt.val()}var classArr=new Array("inputAreaCode","inputPhoneNumber","inputPhoneExt");var targetInputVal="0"+selfAreaCode.val()+o.verSplit+selfPhone.val()+o.verSplit+selfExt.val();selfExt.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfExt,classArr,targetInputVal)})}function verEmail(){if(self.val()==o.verPromptEmail){self.val("")}else{if(self.parent(".parDiv").find(".EditDiv").css("display")=="none"){self.hide();self.parent(".parDiv").find(".EditDiv").show()}}var isHasFl=self.attr("data-isHasFl");if(self.attr("data-val")!=o.verPromptEmail){var tarVal0=self.val().split("@")[0];var tarVal1=self.val().split("@")[1].split(".")[0];var tarVal2=self.val().split("@")[1].split(".")[1]}else{defVal="@.";var tarVal0=defVal.split("@")[0];var tarVal1=defVal.split("@")[1].split(".")[0];var tarVal2=defVal.split("@")[1].split(".")[1]}if(!isHasFl){self.after('<div class="EditDiv"><input type="text" class="inputEmailfront" value="'+tarVal0+'"/><span class="decPoint">@</span><input type="text" class="inputEmailback" value="'+tarVal1+'"/><span class="decPoint">.</span><input type="text" class="inputEmaillast" value="'+tarVal2+'"/></div>');self.attr("data-isHasFl","false")}var selfEmailF=self.parent(".parDiv").find(".EditDiv").children("input.inputEmailfront");var selfEmailB=self.parent(".parDiv").find(".EditDiv").children("input.inputEmailback");var selfEmailL=self.parent(".parDiv").find(".EditDiv").children("input.inputEmaillast");self.hide();selfEmailF.focus();selfEmailF.blur(function(){var classArr=new Array("inputEmailfront","inputEmailback","inputEmaillast");var targetInputVal=selfEmailF.val()+"@"+selfEmailB.val()+"."+selfEmailL.val();selfEmailF.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfEmailF,classArr,targetInputVal)});selfEmailB.blur(function(){var classArr=new Array("inputEmailfront","inputEmailback","inputEmaillast");var targetInputVal=selfEmailF.val()+"@"+selfEmailB.val()+"."+selfEmailL.val();selfEmailB.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfEmailB,classArr,targetInputVal)});selfEmailL.blur(function(){var emailVal=selfEmailL.val();if(emailVal==""){createBubble(selfEmailL,"不能为空");selfEmailL.addClass("inputPrompt")}var classArr=new Array("inputEmailfront","inputEmailback","inputEmaillast");var targetInputVal=selfEmailF.val()+"@"+selfEmailB.val()+"."+selfEmailL.val();selfEmailL.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfEmailL,classArr,targetInputVal)})}function verUrl(){if(self.val()==o.verPromptUrl){self.val("")}else{if(self.parent(".parDiv").find(".EditDiv").css("display")=="none"){self.hide();self.parent(".parDiv").find(".EditDiv").show()}}var isHasFl=self.attr("data-isHasFl");if(!isHasFl){self.after('<div class="EditDiv"><span class="decPoint">http://</span><input type="text" class="inputUrl"/></div>');self.attr("data-isHasFl","false")}var selfInputUrl=self.parent(".parDiv").find(".EditDiv").children("input.inputUrl");self.hide();selfInputUrl.focus();selfInputUrl.blur(function(){var urlVal=selfInputUrl.val();if(urlVal==""){createBubble(selfInputUrl,"不能为空");selfInputUrl.addClass("inputPrompt")}var classArr=new Array("inputUrl");var targetInputVal="http://"+urlVal;selfInputUrl.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfInputUrl,classArr,targetInputVal)})}function verIP(){if(self.val()==o.verPromptIP){self.val("")}else{if(self.parent(".parDiv").find(".EditDiv").css("display")=="none"){self.hide();self.parent(".parDiv").find(".EditDiv").show()}}var isHasFl=self.attr("data-isHasFl");var ipLen=3;if(self.attr("data-val")!=o.verPromptIP){var tarVal=self.val().split(".")}else{defVal="...";var tarVal=defVal.split(".")}if(!isHasFl){self.after('<div class="EditDiv"><input type="text" class="inputIP1" value="'+tarVal[0]+'"/><span class="decPoint">.</span><input type="text" class="inputIP2" value="'+tarVal[1]+'"/><span class="decPoint">.</span><input type="text" class="inputIP3" value="'+tarVal[2]+'"/><span class="decPoint">.</span><input type="text" class="inputIP4" value="'+tarVal[3]+'"/></div>');self.attr("data-isHasFl","false")}var selfIP1=self.parent(".parDiv").find(".EditDiv").children("input.inputIP1");var selfIP2=self.parent(".parDiv").find(".EditDiv").children("input.inputIP2");var selfIP3=self.parent(".parDiv").find(".EditDiv").children("input.inputIP3");var selfIP4=self.parent(".parDiv").find(".EditDiv").children("input.inputIP4");self.hide();selfIP1.focus();keydownNumber(selfIP1,ipLen,selfIP2,"placeholderKey");selfIP1.blur(function(){var ip1Val=selfIP1.val();if(ip1Val==""){createBubble(selfIP1,"不能为空");selfIP1.val("1")}else{if(parseInt(ip1Val)<1){createBubble(selfIP1,"必须输入1-223之间的数,输入数值小于1,默认为1");selfIP1.val("1")}else{if(parseInt(ip1Val)>223){createBubble(selfIP1,"必须输入1-223之间的数,输入数值大于223,默认为223");selfIP1.val("223")}}}var classArr=new Array("inputIP1","inputIP2","inputIP3","inputIP4");var targetInputVal=selfIP1.val()+"."+selfIP2.val()+"."+selfIP3.val()+"."+selfIP4.val();selfIP1.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfIP1,classArr,targetInputVal)});keydownNumber(selfIP2,ipLen,selfIP3,selfIP1);selfIP2.blur(function(){var ip2Val=selfIP2.val();if(ip2Val==""){createBubble(selfIP1,"不能为空");selfIP2.val("0")}else{if(parseInt(ip2Val)>255){createBubble(selfIP1,"必须输入0-255之间的数,输入数值大于255,默认为255");selfIP2.val("255")}}var classArr=new Array("inputIP1","inputIP2","inputIP3","inputIP4");var targetInputVal=selfIP1.val()+"."+selfIP2.val()+"."+selfIP3.val()+"."+selfIP4.val();selfIP2.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfIP2,classArr,targetInputVal)});keydownNumber(selfIP3,ipLen,selfIP4,selfIP2);selfIP3.blur(function(){var ip3Val=selfIP3.val();if(ip3Val==""){createBubble(selfIP1,"不能为空");selfIP3.val("0")}else{if(parseInt(ip3Val)>255){createBubble(selfIP1,"必须输入0-255之间的数,输入数值大于255,默认为255");selfIP3.val("255")}}var classArr=new Array("inputIP1","inputIP2","inputIP3","inputIP4");var targetInputVal=selfIP1.val()+"."+selfIP2.val()+"."+selfIP3.val()+"."+selfIP4.val();selfIP3.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfIP3,classArr,targetInputVal)});keydownNumber(selfIP4,ipLen,"placeholderKey",selfIP3);selfIP4.blur(function(){var ip4Val=selfIP4.val();if(ip4Val==""){createBubble(selfIP1,"不能为空");selfIP4.val("0")}else{if(parseInt(ip4Val)>255){createBubble(selfIP1,"必须输入0-255之间的数,输入数值大于255,默认为255");selfIP4.val("255")}}var classArr=new Array("inputIP1","inputIP2","inputIP3","inputIP4");var targetInputVal=selfIP1.val()+"."+selfIP2.val()+"."+selfIP3.val()+"."+selfIP4.val();selfIP4.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfIP4,classArr,targetInputVal)})}function verTime(){if(self.val()==o.verPromptTime){self.val("")}else{if(self.parent(".parDiv").find(".EditDiv").css("display")=="none"){self.hide();self.parent(".parDiv").find(".EditDiv").show()}}var isHasFl=self.attr("data-isHasFl");var yearLen=4;var monthLen=2;var DayLen=2;if(self.attr("data-val")!=o.verPromptTime){var tarVal=self.val().split(o.verSplit)}else{defVal=o.verSplit+o.verSplit+o.verSplit;var tarVal=defVal.split(o.verSplit)}if(!isHasFl){self.after('<div class="EditDiv"><input type="text" class="inputYear" value="'+tarVal[0]+'"/><span class="decPoint">'+o.verSplit+'</span><input type="text" class="inputMonth" value="'+tarVal[1]+'"/><span class="decPoint">'+o.verSplit+'</span><input type="text" class="inputDay" value="'+tarVal[2]+'"/></div>');self.attr("data-isHasFl","false")}var selfTimeY=self.parent(".parDiv").find(".EditDiv").children("input.inputYear");var selfTimeM=self.parent(".parDiv").find(".EditDiv").children("input.inputMonth");var selfTimeD=self.parent(".parDiv").find(".EditDiv").children("input.inputDay");self.hide();selfTimeY.focus();keydownNumber(selfTimeY,yearLen,selfTimeM,"placeholderKey");selfTimeY.blur(function(){var yearVal=selfTimeY.val();if(yearVal==""){createBubble(selfTimeY,"不能为空");selfTimeY.val("1000")}else{if(parseInt(yearVal)<1000){createBubble(selfTimeY,"必须输入1000-9999之间的数,输入数值小于1000,默认为1000");selfTimeY.val("1000")}else{if(parseInt(yearVal)>9999){createBubble(selfTimeY,"必须输入1000-9999之间的数,输入数值大于9999,默认为9999");selfTimeY.val("9999")}}}var classArr=new Array("inputYear","inputMonth","inputDay");var targetInputVal=selfTimeY.val()+o.verSplit+selfTimeM.val()+o.verSplit+selfTimeD.val();selfTimeY.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfTimeY,classArr,targetInputVal)});keydownNumber(selfTimeM,monthLen,selfTimeD,selfTimeY);selfTimeM.blur(function(){var monthVal=selfTimeM.val();var monthValLen=monthVal.length;if(monthVal==""){createBubble(selfTimeM,"不能为空");selfTimeM.val("01")}else{if(parseInt(monthVal)<1){createBubble(selfTimeM,"必须输入01-12之间的数,输入数值小于01,默认为01");selfTimeM.val("01")}else{if(parseInt(monthVal)>12){createBubble(selfTimeM,"必须输入01-12之间的数,输入数值大于12,默认为12");selfTimeM.val("12")}else{if(monthValLen==1){selfTimeM.val("0"+monthVal)}}}}var classArr=new Array("inputYear","inputMonth","inputDay");var targetInputVal=selfTimeY.val()+o.verSplit+selfTimeM.val()+o.verSplit+selfTimeD.val();selfTimeM.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfTimeM,classArr,targetInputVal)});keydownNumber(selfTimeD,monthLen,"placeholderKey",selfTimeM);selfTimeD.blur(function(){var yearVal=selfTimeY.val();var monthVal=selfTimeM.val();var bigMonth=new Array(1,1,3,3,5,5,7,7,8,8,10,12);var smallMonth=new Array(4,4,6,6,9,9,11);var otherMonth=new Array(2,2);var maxDay;var promptMsg;if(isLeapYear(yearVal)&&isInArr(monthVal,otherMonth)){maxDay=29}else{if(!isLeapYear(yearVal)&&isInArr(monthVal,otherMonth)){maxDay=28}else{if(isInArr(monthVal,bigMonth)){maxDay=31}else{if(isInArr(monthVal,smallMonth)){maxDay=30}}}}promptMsg="必须输入01-"+maxDay+"之间的数";var dayVal=selfTimeD.val();var dayValLen=dayVal.length;if(dayVal==""){createBubble(selfTimeM,"不能为空");selfTimeD.val("01")}else{if(dayVal<1){var bubconmsg=promptMsg+",输入数值小于01,默认为01";createBubble(selfTimeM,bubconmsg);selfTimeD.val("01")}else{if(dayVal>maxDay){var bubconmsg=promptMsg+",输入数值大于"+maxDay+"12,默认为"+maxDay;createBubble(selfTimeM,bubconmsg);selfTimeD.val(maxDay)}else{if(dayValLen==1){selfTimeD.val("0"+dayVal)}}}}var classArr=new Array("inputYear","inputMonth","inputDay");var targetInputVal=selfTimeY.val()+o.verSplit+selfTimeM.val()+o.verSplit+selfTimeD.val();selfTimeD.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfTimeD,classArr,targetInputVal)})}function verAttendance(){if(self.val()==o.verPromptAttendance){self.val("")}else{if(self.parent(".parDiv").find(".EditDiv").css("display")=="none"){self.hide();self.parent(".parDiv").find(".EditDiv").show()}}var isHasFl=self.attr("data-isHasFl");var attLen=3;if(self.attr("data-val")!=o.verPromptAttendance){var tarVal=self.val().split(".")}else{defVal=" . . . ";var tarVal=defVal.split(".")}if(!isHasFl){self.after('<div class="EditDiv"><input type="text" class="inputAtt1" value="'+tarVal[0]+'"/><span class="decPoint">.</span><input type="text" class="inputAtt2" value="'+tarVal[1]+'"/><span class="decPoint">.</span><input type="text" class="inputAtt3" value="'+tarVal[2]+'"/><span class="decPoint">.</span><input type="text" class="inputAtt4" value="'+tarVal[3]+'"/></div>');self.attr("data-isHasFl","false")}var selfAtt1=self.parent(".parDiv").find(".EditDiv").children("input.inputAtt1");var selfAtt2=self.parent(".parDiv").find(".EditDiv").children("input.inputAtt2");var selfAtt3=self.parent(".parDiv").find(".EditDiv").children("input.inputAtt3");var selfAtt4=self.parent(".parDiv").find(".EditDiv").children("input.inputAtt4");self.hide();selfAtt1.focus();keydownNumber(selfAtt1,attLen,selfAtt2,"placeholderKey");selfAtt1.blur(function(){var att1Val=selfAtt1.val();if(att1Val==""){createBubble(selfAtt1,"不能为空");selfAtt1.val("1").attr("data-val","1")}else{if(parseInt(att1Val)<1){createBubble(selfAtt1,"必须输入1-223之间的数,输入数值小于1,默认为1");selfAtt1.val("1").attr("data-val","1")}else{if(parseInt(att1Val)>223){createBubble(selfAtt1,"必须输入1-223之间的数,输入数值大于223,默认为223");selfAtt1.val("223").attr("data-val","233")}}}var classArr=new Array("inputAtt1","inputAtt2","inputAtt3","inputAtt4");var targetInputVal=selfAtt1.val()+"."+selfAtt2.val()+"."+selfAtt3.val()+"."+selfAtt4.val();selfAtt1.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfAtt1,classArr,targetInputVal)});keydownNumber(selfAtt2,attLen,selfAtt3,selfAtt1);selfAtt2.blur(function(){var att2Val=selfAtt2.val();if(att2Val==""){}else{if(parseInt(att2Val)>255){createBubble(selfAtt1,"必须输入0-255之间的数,输入数值大于255,默认为255");selfAtt2.val("255")}}var classArr=new Array("inputAtt1","inputAtt2","inputAtt3","inputAtt4");var targetInputVal=selfAtt1.val()+"."+selfAtt2.val()+"."+selfAtt3.val()+"."+selfAtt4.val();selfAtt2.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfAtt2,classArr,targetInputVal)});keydownNumber(selfAtt3,attLen,selfAtt4,selfAtt2);selfAtt3.blur(function(){var att3Val=selfAtt3.val();if(att3Val==""){}else{if(parseInt(att3Val)>255){createBubble(selfAtt1,"必须输入0-255之间的数,输入数值大于255,默认为255");selfAtt3.val("255")}}var classArr=new Array("inputAtt1","inputAtt2","inputAtt3","inputAtt4");var targetInputVal=selfAtt1.val()+"."+selfAtt2.val()+"."+selfAtt3.val()+"."+selfAtt4.val();selfAtt3.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfAtt3,classArr,targetInputVal)});keydownNumber(selfAtt4,attLen,"placeholderKey",selfAtt3);selfAtt3.focus(function(){var att2Val=selfAtt2.val();if(att2Val==""){selfAtt2.val("0")}});selfAtt4.focus(function(){var att2Val=selfAtt2.val();if(att2Val==""){selfAtt2.val("0")}var att3Val=selfAtt3.val();if(att3Val==""){selfAtt3.val("0")}});selfAtt4.blur(function(){var att4Val=selfAtt4.val();if(att4Val==""){}else{if(parseInt(att4Val)>255){createBubble(selfAtt1,"必须输入0-255之间的数,输入数值大于255,默认为255");selfAtt4.val("255")}}var classArr=new Array("inputAtt1","inputAtt2","inputAtt3","inputAtt4");var targetInputVal=selfAtt1.val()+"."+selfAtt2.val()+"."+selfAtt3.val()+"."+selfAtt4.val();selfAtt4.parents(".EditDiv").prev("input.verInput").val(targetInputVal);documentFocus(selfAtt4,classArr,targetInputVal)})}},verify:function(verifAttr){var attrVerif=this.el;if(attrVerif==verifAttr){}else{this.element.attr("data-verif",verifAttr)}this.element.verification()},vermobile:function(){this.verify("verMobile")},verstring:function(){this.verify("verString")},vernumber:function(){this.verify("verNumber")},verphone:function(){this.verify("verPhone")},veremail:function(){this.verify("verEmail")},verurl:function(){this.verify("verUrl")},verip:function(){this.verify("verIP")},vertime:function(){this.verify("verTime")},verattendance:function(){this.verify("verAttendance")},destroy:function(){this.element.removeAttr("data-verif");if(this.element.parent(".parDiv").find(".EditDiv").length>0){this.element.parent(".parDiv").find(".EditDiv").remove()}if(this.element.parent(".parDiv").length>0){this.element.unwrap(".parDiv")}}});$.extend($.fn.verification,{version:"1.2"})})(jQuery);$(function(){$(".verInput").verification({})});(function(a,b){a.widget("ui.geolocation",{options:{nosupportMsg:"您当前的浏览器不支持Geolocation,请升级浏览器",isshowLat:true,isshowLon:true,isshowAcc:true,isshowAlt:true,isshowAla:true,isshowHea:true,isshowSpe:true},_create:function(){var e=this.element;var c=a(".posMsg").length;if(c<=0){var d='<div class="posMsg"></div>';e.append(d)}},_init:function(){var g=this.options;var d=this.element.find(".posMsg");function e(i){if((i!=null)&&(i!=b)){return true}}function h(i){return typeof i==="string"?document.getElementById(i):i}function c(s,i,m,o,l,k,q){s=(g.isshowLat&&e(s))?s:"";i=(g.isshowLon&&e(i))?i:"";m=(g.isshowAcc&&e(m))?m:"";o=(g.isshowAlt&&e(o))?o:"";l=(g.isshowAla&&e(l))?l:"";k=(g.isshowHea&&e(k))?k:"";q=(g.isshowSpe&&e(q))?q:"";var r="您当前的位置："+s+i+m+o+l+k+q;var j;d.html(r);d.attr({"data-lat":s,"data-lon":i,"data-acc":m,"data-alt":o,"data-ala":l,"data-hea":k,"data-spe":q}).hide();try{var n=new BMap.Geocoder();n.getLocation(new BMap.Point(i,s),function(t){if(t){j=t.address}d.attr("data-addmsg",j)})}catch(p){}}if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(i){c(i.coords.latitude,i.coords.longitude,i.coords.accuracy,i.coords.altitude,i.coords.altitudeAcuracy,i.coords.heading,i.coords.speed)},function(j){var i=j.code+" "+j.message;d.html(i)})}else{d.html(g.options)}},getAddress:function(){getAddress=a(".posMsg").attr("data-addmsg")?a(".posMsg").attr("data-addmsg"):"无法获取地址";return getAddress},getX:function(){getX=a(".posMsg").attr("data-lat");return getX},getY:function(){getY=a(".posMsg").attr("data-lon");return getY},getA:function(){getA=a(".posMsg").attr("data-acc");return getA},getAcc:function(){getAcc=a(".posMsg").attr("data-alt");return getAcc},getAla:function(){getAla=a(".posMsg").attr("data-ala");return getAla},getH:function(){getH=a(".posMsg").attr("data-hea");return getH},getS:function(){getS=a(".posMsg").attr("data-spe");return getS},destroy:function(){this.element.find(".posMsg").remove()}});a.extend(a.fn.geolocation,{version:"1.2"})})(jQuery);(function(a,b){a.widget("ui.ajaxload",{options:{content:"加载中,请稍后......",gifSize:"midSize"},_create:function(){var d=this.options;var n=this.element;var i='<div class="ajaxMask"><div class="ajaxContent"><p class="ajaxPic '+d.gifSize+'"></p><p class="ajaxMsg">'+d.content+"</p></div></div>";var p='<div class="ajaxMain"></div>';var h='<div class="ajaxCon"></div>';var c=n.width();var m=n.height();var j=n.offset().left;var e=n.offset().top;if(n.attr("data-dom")!="true"){n.wrap(p).after(i).wrap(h);n.attr("data-dom",true)}var l=n.parents(".ajaxMain");var k=(c-(l.find(".ajaxMsg").width()+l.find(".ajaxPic").width()))/2;var g=(m-l.find(".ajaxPic").height())/2;l.find(".ajaxMsg").css("line-height",l.find(".ajaxPic").height()+"px");l.find(".ajaxMask").css({height:m,width:c,top:e,left:j});l.find(".ajaxContent").css({top:g,left:k})},_init:function(){},show:function(){this.element.parents(".ajaxMain").find(".ajaxMask").css("display","block");return this.element},hide:function(){this.element.parents(".ajaxMain").find(".ajaxMask").css("display","none");return this.element},destroy:function(){if(this.element.attr("data-dom")=="true"){this.element.parents(".ajaxMain").find(".ajaxMask").remove();this.element.unwrap().unwrap()}this.element.attr("data-dom","false");return this.element}});a.extend(a.fn.ajaxload,{version:"1.2"})})(jQuery);(function(a,b){a.widget("ui.autosave",{options:{saveTime:5000},_create:function(){},_init:function(){var c=this.element.find("input").filter(":text,:password,:hidden");var m=this.element.find("textarea");var h=this.element.find("select");var k=this.element.find("input").filter(":radio,:checkbox");var d=this.options;var j=this.element.attr("data-isCookie");if(j!="false"){i()}setInterval(l,d.saveTime);function g(o,q){var n="";if(q){for(var p=0;p<o.length;p++){n+=o.eq(p).attr("checked")+","}}else{for(var p=0;p<o.length;p++){n+=o.eq(p).val()+","}}return n}function e(n,q,p){if(p){for(var o=0;o<n.length-1;o++){if(n[o]=="true"){q.eq(o).attr("checked",n[o])}}}else{for(var o=0;o<n.length-1;o++){q.eq(o).val(n[o])}}}function l(){var n=c_textarea_value=c_select_value=c_radio_value="";if(c.length>0){n=g(c,false)}if(m.length>0){c_textarea_value=g(m,false)}if(h.length>0){c_select_value=g(h,false)}if(k.length>0){c_radio_value=g(k,true)}var o=n+"-"+c_textarea_value+"-"+c_select_value+"-"+c_radio_value;document.cookie=o}function i(){if(document.cookie.length>0){var s=document.cookie.split("-");var q=s.length;var n=s[0].split(",");var r=s[1].split(",");var p=s[2].split(",");var o=s[3].split(",");if(n.length>1){e(n,c,false)}if(r.length>1){e(r,m,false)}if(p.length>1){e(p,h,false)}if(o.length>1){e(o,k,true)}}}},destroy:function(){}});a.extend(a.fn.autosave,{version:"1.2"})})(jQuery);(function(a,b){a.widget("ui.colorpicker",{options:{},_create:function(){var c=this.element;var g='<div id="picker"></div>';var e=c.offset().top+c.height()+2;var d=c.offset().left;if(a("#picker").length<1){c.parent().append(g)}a("#picker").css({position:"absolute",left:d,top:e,"z-index":100})},_init:function(){this.element.click(function(){a("#picker").farbtastic("#color");if(a("#picker").css("display")=="none"){a("#picker").css("display","block")}});a(document).click(function(e){var g=e.target;var d=a(g).nextAll("#picker").length;var c=a(g).parents("#picker").length;if((c<1)&&(d<1)){a("#picker").css("display","none")}});jQuery.fn.farbtastic=function(c){a.farbtastic(this,c);return this};jQuery.farbtastic=function(c,d){var c=a(c).get(0);return c.farbtastic||(c.farbtastic=new jQuery._farbtastic(c,d))};jQuery._farbtastic=function(c,h){var d=this;a(c).html('<div class="farbtastic"><div class="color"></div><div class="wheel"></div><div class="overlay"></div><div class="h-marker marker"></div><div class="sl-marker marker"></div></div>');var g=a(".farbtastic",c);d.wheel=a(".wheel",c).get(0);d.radius=84;d.square=100;d.width=194;if(navigator.appVersion.match(/MSIE [0-6]\./)){a("*",g).each(function(){if(this.currentStyle.backgroundImage!="none"){var e=this.currentStyle.backgroundImage;e=this.currentStyle.backgroundImage.substring(5,e.length-2);a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+e+"')"})}})}d.linkTo=function(e){if(typeof d.callback=="object"){a(d.callback).unbind("keyup",d.updateValue)}d.color=null;if(typeof e=="function"){d.callback=e}else{if(typeof e=="object"||typeof e=="string"){d.callback=a(e);d.callback.bind("keyup",d.updateValue);if(d.callback.get(0).value){d.setColor(d.callback.get(0).value)}}}return this};d.updateValue=function(e){if(this.value&&this.value!=d.color){d.setColor(this.value)}};d.setColor=function(e){var i=d.unpack(e);if(d.color!=e&&i){d.color=e;d.rgb=i;d.hsl=d.RGBToHSL(d.rgb);d.updateDisplay()}return this};d.setHSL=function(e){d.hsl=e;d.rgb=d.HSLToRGB(e);d.color=d.pack(d.rgb);d.updateDisplay();return this};d.widgetCoords=function(l){var j,p;var k=l.target||l.srcElement;var i=d.wheel;if(typeof l.offsetX!="undefined"){var o={x:l.offsetX,y:l.offsetY};var m=k;while(m){m.mouseX=o.x;m.mouseY=o.y;o.x+=m.offsetLeft;o.y+=m.offsetTop;m=m.offsetParent}var m=i;var n={x:0,y:0};while(m){if(typeof m.mouseX!="undefined"){j=m.mouseX-n.x;p=m.mouseY-n.y;break}n.x+=m.offsetLeft;n.y+=m.offsetTop;m=m.offsetParent}m=k;while(m){m.mouseX=b;m.mouseY=b;m=m.offsetParent}}else{var o=d.absolutePosition(i);j=(l.pageX||0*(l.clientX+a("html").get(0).scrollLeft))-o.x;p=(l.pageY||0*(l.clientY+a("html").get(0).scrollTop))-o.y}return{x:j-d.width/2,y:p-d.width/2}};d.mousedown=function(e){if(!document.dragging){a(document).bind("mousemove",d.mousemove).bind("mouseup",d.mouseup);document.dragging=true}var i=d.widgetCoords(e);d.circleDrag=Math.max(Math.abs(i.x),Math.abs(i.y))*2>d.square;d.mousemove(e);return false};d.mousemove=function(k){var l=d.widgetCoords(k);if(d.circleDrag){var j=Math.atan2(l.x,-l.y)/6.28;if(j<0){j+=1}d.setHSL([j,d.hsl[1],d.hsl[2]])}else{var i=Math.max(0,Math.min(1,-(l.x/d.square)+0.5));var e=Math.max(0,Math.min(1,-(l.y/d.square)+0.5));d.setHSL([d.hsl[0],i,e])}return false};d.mouseup=function(){a(document).unbind("mousemove",d.mousemove);a(document).unbind("mouseup",d.mouseup);document.dragging=false};d.updateDisplay=function(){var e=d.hsl[0]*6.28;a(".h-marker",g).css({left:Math.round(Math.sin(e)*d.radius+d.width/2)+"px",top:Math.round(-Math.cos(e)*d.radius+d.width/2)+"px"});a(".sl-marker",g).css({left:Math.round(d.square*(0.5-d.hsl[1])+d.width/2)+"px",top:Math.round(d.square*(0.5-d.hsl[2])+d.width/2)+"px"});a(".color",g).css("backgroundColor",d.pack(d.HSLToRGB([d.hsl[0],1,0.5])));if(typeof d.callback=="object"){a(d.callback).css({backgroundColor:d.color,color:d.hsl[2]>0.5?"#000":"#fff"});a(d.callback).each(function(){if(this.value&&this.value!=d.color){this.value=d.color}})}else{if(typeof d.callback=="function"){d.callback.call(d,d.color)}}};d.absolutePosition=function(i){var j={x:i.offsetLeft,y:i.offsetTop};if(i.offsetParent){var e=d.absolutePosition(i.offsetParent);j.x+=e.x;j.y+=e.y}return j};d.pack=function(i){var k=Math.round(i[0]*255);var j=Math.round(i[1]*255);var e=Math.round(i[2]*255);return"#"+(k<16?"0":"")+k.toString(16)+(j<16?"0":"")+j.toString(16)+(e<16?"0":"")+e.toString(16)};d.unpack=function(e){if(e.length==7){return[parseInt("0x"+e.substring(1,3))/255,parseInt("0x"+e.substring(3,5))/255,parseInt("0x"+e.substring(5,7))/255]}else{if(e.length==4){return[parseInt("0x"+e.substring(1,2))/15,parseInt("0x"+e.substring(2,3))/15,parseInt("0x"+e.substring(3,4))/15]}}};d.HSLToRGB=function(n){var p,o,e,k,m;var j=n[0],q=n[1],i=n[2];o=(i<=0.5)?i*(q+1):i+q-i*q;p=i*2-o;return[this.hueToRGB(p,o,j+0.33333),this.hueToRGB(p,o,j),this.hueToRGB(p,o,j-0.33333)]};d.hueToRGB=function(i,e,j){j=(j<0)?j+1:((j>1)?j-1:j);if(j*6<1){return i+(e-i)*j*6}if(j*2<1){return e}if(j*3<2){return i+(e-i)*(0.66666-j)*6}return i};d.RGBToHSL=function(n){var j,p,q,k,t,i;var e=n[0],m=n[1],o=n[2];j=Math.min(e,Math.min(m,o));p=Math.max(e,Math.max(m,o));q=p-j;i=(j+p)/2;t=0;if(i>0&&i<1){t=q/(i<0.5?(2*i):(2-2*i))}k=0;if(q>0){if(p==e&&p!=m){k+=(m-o)/q}if(p==m&&p!=o){k+=(2+(o-e)/q)}if(p==o&&p!=e){k+=(4+(e-m)/q)}k/=6}return[k,t,i]};a("*",g).mousedown(d.mousedown);d.setColor("#000000");if(h){d.linkTo(h)}}},getVal:function(){getVal=this.element.val();return getVal},destroy:function(){a("#picker").remove()}});a.extend(a.fn.colorpicker,{version:"1.3"})})(jQuery);(function(a,b){a.widget("ui.ratystar",{options:{total:5,value:1,stardefault:2,disable:false},_create:function(){var c=this.element;var h=this.options;var g="";var d="";for(var e=0;e<h.total;e++){d+="<li></li>"}g='<ul class="ratystar-starul" data-disable = '+h.disable+">"+d+'</ul><div class="ratystar-clear"></div>';c.append(g)},_init:function(){var c=this.element;var i=this.options;var e=c.find(".ratystar-starul li");var j=c.find(".ratystar-starul");var h=Math.round((i.stardefault-1)/i.value);g(h);e.click(function(){if(j.attr("data-disable")=="false"){var k=a(this).index();e.css("cursor","pointer");g(k);d(k);h=k}else{e.css("cursor","default")}});e.hover(function(){if(j.attr("data-disable")=="false"){var k=a(this).index();e.css("cursor","pointer");g(k);d(k)}else{e.css("cursor","default")}},function(){if(j.attr("data-disable")=="false"){e.css("cursor","pointer");g(h);d(h)}else{e.css("cursor","default")}});function g(k){for(var l=0;l<=k;l++){if(!e.eq(l).hasClass("ratystar-starli-active")){e.eq(l).addClass("ratystar-starli-active")}}j.attr("data-starval",(k+1)*i.value)}function d(k){for(var l=k+1;l<i.total;l++){if(e.eq(l).hasClass("ratystar-starli-active")){e.eq(l).removeClass("ratystar-starli-active")}}j.attr("data-starval",(k+1)*i.value)}},disable:function(){this.element.find(".ratystar-starul").attr("data-disable","true")},enable:function(){this.element.find(".ratystar-starul").attr("data-disable","false")},getStar:function(){getStar=this.element.find(".ratystar-starul").attr("data-starval");return getStar},destroy:function(){}});a.extend(a.fn.ratystar,{version:"1.3"})})(jQuery);(function(a,b){a.widget("ui.uploadannex",{options:{height:180,able:["jpg","gif","png","jpeg","doc","docx","xls","xlsx","txt","html","rar","zip","asp","ppt","pptx","avi","exe","swf","fla","js","xml","htm","jsp","mp3","mp4","css"],disable:[],contain:[],fnFile:function(){},fn:function(){},fnDel:function(){},dragEnterDiv:function(){},dragOverDiv:function(){},dragDropDiv:function(){},dragLeaveDiv:function(){}},_create:function(){var c=this.element;var e=this.options;var d="";if(window.FileReader&&!a.browser.opera){d="浏览并选择文件，或者将文件拖放到该区域来上传文件。"}else{d="浏览并选择文件。"}c.prevAll(".upload-content").html(d);c.height(e.height)},_init:function(){var m=this.element;var d=this.options;var g='<p class="upload-files-errorCon"><p>';m.after(g);a(".upload-input input").change(function(){var o=a(this).val();n(o);d.fn();d.fnFile()});if(window.FileReader){m[0].addEventListener("dragenter",e,false);m[0].addEventListener("dragover",j,false);m[0].addEventListener("drop",c,false);m[0].addEventListener("dragleave",i,false)}function c(o){o.stopPropagation();o.preventDefault();h(o);d.fn();d.dragDropDiv()}function e(o){o.stopPropagation();o.preventDefault();d.dragEnterDiv()}function i(o){d.dragLeaveDiv()}function j(o){o.stopPropagation();o.preventDefault();d.dragOverDiv()}function h(x){var o=x.dataTransfer.files;for(var q=0,t;t=o[q];q++){var w=t.name.lastIndexOf(".");var v=t.name.substring(w+1,t.name.length);var q=a(".upload-files-list").length;var u="uploadID"+q;if(p(v)&&(!l(t.name))){reader=new FileReader();var s='<div class="upload-files-list" id="'+u+'"><p class="upload-files-name"><a href="#">'+t.name+'</a></p><p class="upload-files-msg"><span class="upload-files-progress-num">5%</span><a href="#" class="upload-files-del"></a></p><p class="upload-files-progress"></p></div>';reader.readAsDataURL(t);m.append(s)}else{if(l(t.name)){var r=t.name+"已上传，请重新选择";m.nextAll(".upload-files-errorCon").html(r)}else{var r="您上传的"+v+"不是合法的格式，请重新选择";m.nextAll(".upload-files-errorCon").html(r)}}}}function n(s){var u=s.lastIndexOf(".");fformat=s.substring(u+1,s.length);var q=s.lastIndexOf("\\");fname=s.substring(q+1,s.length);var o=a(".upload-files-list").length;if(p(fformat)&&(!l(fname))){var r='<div class="upload-files-list"><p class="upload-files-name"><a href="#">'+fname+'</a></p><p class="upload-files-msg"><span class="upload-files-progress-num">5%</span><a href="#" class="upload-files-del"></a></p><p class="upload-files-progress"></p></div>';m.append(r)}else{if(l(s)){var t=f.name+"已上传，请重新选择";m.nextAll(".upload-files-errorCon").html(t)}else{var t="您上传的"+fformat+"不是合法的格式，请重新选择";m.nextAll(".upload-files-errorCon").html(t)}}}a(".upload-files-del").live("click",function(){a(this).parents(".upload-files").attr("data-id",a(this).parents(".upload-files-list").attr("id"));a(this).parents(".upload-files-list").remove();d.fnDel()});function l(q){var s=m.find(".upload-files-name").find("a");var o=s.length;for(var r=0;r<o;r++){if(q==s.eq(r).html()){return true}}}function p(q){var o=d.able.length;disableLen=d.disable.length;if((o==0)&&(disableLen==0)){return k(q,d.contain)}else{if((o>0)&&(disableLen==0)){return k(q,d.able)}else{if((o==0)&&(disableLen>0)){return !(k(q,d.disable))}else{console.log("仅需要设置只允许上传的或不允许上传的文件格式")}}}}function k(r,o){for(var q=0;q<o.length;q++){if(r==o[q]){return true}}}},destroy:function(){}});a.extend(a.fn.uploadannex,{version:"1.3"})})(jQuery);function setProgress(c,h,e){var c="#"+c;var b=$(c).find(".upload-files-progress");var d=$(c).find(".upload-files-progress-num");var i=h+"%";var g=b.hasClass("upload-files-progress-doing");var j=b.hasClass("upload-files-progress-success");var a=b.hasClass("upload-files-progress-error");if(e){if(!a){d.addClass(".upload-files-num-error").html("续传");b.addClass("upload-files-progress-error").width(i)}if(g){b.removeClass("upload-files-progress-doing")}if(j){d.removeClass("upload-files-num-success");b.removeClass("upload-files-progress-success")}}else{if(parseInt(h)==100){if(!j){d.addClass(".upload-files-num-success").html("完成");b.addClass("upload-files-progress-success").width(i)}if(g){b.removeClass("upload-files-progress-doing")}if(a){d.removeClass("upload-files-num-error");b.removeClass("upload-files-progress-error")}}else{if(!g){d.html(i);b.addClass("upload-files-progress-doing").width(i)}if(j){d.removeClass("upload-files-num-success");b.removeClass("upload-files-progress-success")}if(a){d.removeClass("upload-files-num-error");b.removeClass("upload-files-progress-error")}}}}(function(a,b){a.widget("ui.inputblock",{options:{width:400,content:"add person",list:[],fn:function(){},fnClick:function(){},fnDel:function(){}},_create:function(){var c=this.element;var l=this.options;var g=l.list.length;var d='<div class="inputblock-wrap"></div>';var j='<div class="inputblock-add"></div>';var k='<div class="inputblock-clear"></div>';var e="";for(var h=0;h<g;h++){e+='<p class="inputblock-elem"><span>'+l.list[h]+'</span><a href="#" title="delete" class="inputblock-del"></a></p>'}c.val(l.content).attr({readonly:true,unselectable:"on"}).wrap(d).wrap(j).parents(".inputblock-add").before(e).after(k);c.parents(".inputblock-wrap").width(l.width)},_init:function(){var c=this.element;var g=this.options;var d=c.parents("div.inputblock-wrap");for(var e=0;e<d.length;e++){d.eq(e).click(function(l){var n=a(this);var k=l.target;if(!a(k).hasClass("inputblock-del")){var j=g.fnClick();var m="";for(var h=0;h<j.length;h++){m+='<p class="inputblock-elem"><span>'+j[h]+'</span><a href="#" title="delete" class="inputblock-del"></a></p>'}n.find("div.inputblock-add").before(m)}})}a(".inputblock-del").live("click",function(){a(this).parents(".inputblock-elem").remove();g.fnDel()})},setVal:function(g){this.element.parents(".inputblock-wrap").find(".inputblock-elem").remove();var c=g.length;var d="";for(var e=0;e<c;e++){d+='<p class="inputblock-elem"><span>'+g[e]+'</span><a href="#" title="delete" class="inputblock-del"></a></p>'}this.element.parents(".inputblock-add").before(d)},getVal:function(){console.log("fdasfa");var e=this.element.parents(".inputblock-wrap").find(".inputblock-elem span");var c=e.length;getAry=[];for(var d=0;d<c;d++){getAry[d]=e.eq(d).html()}return getAry},destroy:function(){if(this.element.parents(".inputblock-wrap").length>0){this.element.parents(".inputblock-wrap").find(".inputblock-elem").remove();this.element.parents(".inputblock-wrap").find(".inputblock-clear").remove();this.element.unwrap().unwrap().removeAttr("readonly")}}});a.extend(a.fn.inputblock,{version:"1.3"})})(jQuery);(function(a){a.fn.slide=function(c){var e={maxNum:6,width:undefined,height:undefined,container:"slide-container",hoverPause:false,pagination:true,paginationType:"click",paginationClass:"pagination",paginationPos:null,paginationTextHidden:true,currentClass:"current",duration:600,index:1,effect:"h",shutterDir:"h",shutterNum:3,dataAttributeName:"data-slideParamName",eventParams:[],eventHandler:null,play:2000,pause:1000,animationStart:function(){},animationComplete:function(){},slideLoaded:function(){}};c=a.extend({},e,c||{});function d(){var k=a(this);var A=k.find("."+c.container);var J=A.find(">div.slide-controller");var F=J.children();var E=F.find("img");a.each(F,function(i,M){c.eventParams[i]=a(M).attr(c.dataAttributeName)});if(c.eventHandler&&Object.prototype.toString.call(c.eventHandler)==="[object Function]"){J.delegate("img","click",function(i){c.eventHandler(c.eventParams[x]);return false})}var L=F.size();var y=c.width||E.width();var u=c.height||E.height();var l=c.index-1;var w=0;var v=0;var x=0;var B;var n;var p;var K;var t=c.effect;var I;var h=c.duration;var g=[];var s;var m;if(L>c.maxNum){alert("最多允许"+c.maxNum+"张图片!");return}if((!c.width||!c.height)&&(!F.find("img").attr("width")||!F.find("img").attr("height"))){alert("控件宽高调用错误!");return}if(c.width&&c.height){F.find("img").attr("width",y).attr("height",u)}A.css({overflow:"hidden",position:"relative",width:y+"px",height:u+"px"});J.css({position:"relative",top:-u+"px",left:-y+"px",width:L*y+"px",height:L*u+"px"});F.css({position:"absolute",display:"none",top:u+"px",left:y+"px","z-index":0});if(L<2){A.fadeIn(h,function(){B=true;c.slideLoaded()});return false}if(l<0){l=0}if(l>L){l=L-1}if(c.index){x=l}A.css("display","block");J.children(":eq("+l+")").fadeIn(h,function(){B=true;c.slideLoaded()});if(c.pagination){var j={position:"absolute","z-index":6};var r='<ul class="'+c.paginationClass+" pagination-pos "+(!!c.paginationTextHidden?"pagination-text-hidden":"")+'">';if(c.paginationPos){var H,q=c.paginationPos;for(H in q){if(q.hasOwnProperty(H)){j[H]=q[H]}}delete H}for(var D=0;D<L;D++){r+='<li><a href="javascript:;">'+(D+1)+"</a></li>"}r+="</ul>";a(r).appendTo(A).css(j);k.find("."+c.paginationClass+" li:eq("+l+")").addClass(c.currentClass);k.find("ul."+c.paginationClass+">li>a").click(function(){if(c.play){G()}p=parseInt(a(this).text(),10)-1;if(x!==p){if(g.length>0){if(p!==g[g.length-1]){g.push(p)}}else{g.push(p)}}if(!J.is(":animated")){if(g.length>0){z("pagination",t,g.shift())}}return false})}if(c.play){m=setInterval(function(){z("next",t)},c.play);k.data("interval",m)}if(c.hoverPause&&c.play){J.bind({mouseover:function(){o()},mouseleave:function(){G()}})}function C(){if(g.length>0){if(c.play){G()}z("pagination",t,g.shift())}}function z(N,M,i){if(!B||n){return}c.animationStart(x+1);switch(N){case"next":v=x;w=x+1;w=(L===w)?0:w;x=w;if(M=="h"){K=y*2;N=-K}else{if(M=="v"){K=u*2;N=-K}}break;case"prev":v=x;w=x-1;w=(w=-1)?L-1:w;K=N=0;x=w;break;case"pagination":v=k.find("."+c.paginationClass+" li."+c.currentClass+">a").text();v=parseInt(v,10)-1;w=i;if(v<w){if(M=="h"){K=y*2;N=-K}else{if(M=="v"){K=u*2;N=-K}}}else{K=N=0}x=w;break}switch(M){case"h":J.children(":eq("+w+")").css({left:K+"px",display:"block"});J.animate({left:N+"px"},h,function(){J.css({left:-y+"px"});J.children(":eq("+w+")").css({left:y+"px",zIndex:5});J.children(":eq("+v+")").css({left:y+"px",display:"none",zIndex:0});c.animationComplete(w+1);n=false;C()});break;case"v":J.children(":eq("+w+")").css({top:K+"px",display:"block"});J.animate({top:N+"px"},h,function(){J.css({top:-u+"px"});J.children(":eq("+w+")").css({top:u+"px","z-index":5});J.children(":eq("+v+")").css({top:u+"px",display:"none","z-index":0});c.animationComplete(w+1);n=false;C()});break;case"fade":J.children(":eq("+w+")").css({"z-index":5}).fadeIn(h,function(){J.children(":eq("+v+")").css({"z-index":0,display:"none"});J.children(":eq("+w+")").css({"z-index":0});c.animationComplete(w+1);n=false;C()});break;case"zoom":J.children(":eq("+w+")").css({width:0,height:0,left:3*y/2,top:3*u/2});J.children(":eq("+v+")").animate({width:0,height:0,left:3*y/2,top:3*u/2},h/2,function(){J.children(":eq("+v+")").css({"z-index":0,display:"none",width:y,height:u,top:u,left:y});J.children(":eq("+w+")").animate({width:y,height:u,left:y,top:u},h/2);J.children(":eq("+w+")").css({"z-index":0,display:"block",opacity:"1"});c.animationComplete(w+1);n=false;C()});break;default:break}if(c.pagination){k.find("."+c.paginationClass+" li."+c.currentClass).removeClass(c.currentClass);k.find("."+c.paginationClass+" li:eq("+w+")").addClass(c.currentClass)}}function o(){clearInterval(k.data("interval"))}function G(){if(c.pause){clearTimeout(k.data("pause"));clearInterval(k.data("interval"));s=setTimeout(function(){clearTimeout(k.data("pause"));m=setInterval(function(){z("next",t)},c.play);k.data("interval",m)},c.pause);k.data("pause",s)}else{}}}function b(){var l=this;var r=a(l);var v=r.find("."+c.container);var w=v.find("a");var g=w.find("img");a.each(w,function(i,x){c.eventParams[i]=a(x).attr(c.dataAttributeName)});l.a=c.auto?c.auto:4;l.index=c.index?c.index:0;l.l=w.length;l.cur=0;l.stN=c.shutterNum?c.shutterNum:5;l.direction=c.shutterDir?c.shutterDir:"h";l.W=c.width?c.width:r.width();l.H=c.height?c.height:r.height();l.aw=0;v.width(this.W).height(this.H).find(">div.slide-controller").css("display","none");var q=a("<div />");var m=a("<a />");m.attr("href","javascript:;");var u="";for(var t=0;t<l.stN;t++){var j=l.direction==="h"?"position:absolute;width:"+l.W/l.stN+"px;height:"+l.H+"px;left:"+t*(l.W/l.stN)+"px;top:0":"position:absolute;width:"+l.W+"px;height:"+l.H/l.stN+"px;left:0px;top:"+t*(l.H/l.stN)+"px";u+='<span style="'+j+'"></span>'}var k={position:"absolute",width:l.W+"px",height:l.H+"px",left:0,top:0};m.html(u).css(k);q.css(k).css("background-color","rgb(36, 72, 108)").append(m).appendTo(v);m.bind("click",function(){c.eventHandler(c.eventParams[l.cur]);return false});if(c.pagination){var h={position:"absolute","z-index":6};var s='<ul class="'+c.paginationClass+" pagination-pos "+(!!c.paginationTextHidden?"pagination-text-hidden":"")+'">';if(c.paginationPos){var p,o=c.paginationPos;for(p in o){if(o.hasOwnProperty(p)){h[p]=o[p]}}delete p}for(var n=0;n<l.l;n++){s+='<li><a href="javascript:;">'+(n+1)+"</a></li>"}s+="</ul>";a(s).appendTo(q).css(h).delegate("li","click",function(x){var y=x.target;while(y.nodeType===3){y=y.parentNode}var i=a(y);if(i.is("ul")){return}else{if(i.is("a")){i=i.parent()}}if(i.is("."+c.paginationClass)){return}l.pos(i.index())});q.find("."+c.paginationClass+" li:eq("+l.index+")").addClass(c.currentClass)}l.timer1=false;l.timer2=[];l.timer2.length=l.stN;l.auto=function(){l.timer1=setInterval(function(){l.move(1)},l.a*1000)};l.anim=function(i){var x=l.direction=="h"?m.find("span:eq("+(l.stN-1)+")").width():m.find("span:eq("+(l.stN-1)+")").height();if(x<=5){clearInterval(l.timer2[i]);for(var y=0;y<l.stN;y++){l.direction=="h"?m.find("span:eq("+y+")").width(0):m.find("span:eq("+y+")").height(0)}if(!l.timer1){l.auto()}}else{for(var A=0;A<l.stN;A++){l.aw-=1;l.direction=="h"?m.find("span:eq("+A+")").width(l.aw):m.find("span:eq("+A+")").height(l.aw)}}};l.move=function(x){var y=l.cur+x;var i=x==1?y==l.l?0:y:y<0?l.l-1:y;l.pos(i)};l.pos=function(A){clearInterval(l.timer1);clearInterval(l.timer2[A]);l.aw=l.direction==="h"?l.W/l.stN:l.H/l.stN;var z=A+1>=l.l?0:A+1;var B=g[A].src;var x=g[z].src;q.css("background-image","url("+x+")");for(var C=0;C<l.stN;C++){var i={"background-image":"url("+B+")"};if(l.direction=="h"){i["background-position"]="-"+C*l.W/l.stN+"px 0";i.width=l.W/l.stN+"px";i.height=l.H+"px";i.left=C*(l.W/l.stN)+"px";i.top=0}else{i["background-position"]="0 -"+C*l.H/l.stN+"px";i.width=l.W+"px";i.height=l.H/l.stN+"px";i.left=0;i.top=C*(l.H/l.stN)+"px"}m.find("span:eq("+C+")").css(i)}l.cur=A;l.timer1=false;q.find("."+c.paginationClass+" li."+c.currentClass).removeClass(c.currentClass);q.find("."+c.paginationClass+" li:eq("+A+")").addClass(c.currentClass);l.timer2[A]=setInterval(function(){l.anim(A)},10*l.stN)};l.pos(l.index)}return this.each(c.effect==="shutter"?b:d)};a.extend(a.fn.slide,{version:"1.1"})})(jQuery);ui.fn.isMobile=function(){var e=window.navigator.userAgent.toLowerCase();var a=false;var g=true;var d=["windows nt","ipod","macintosh","ipad"];var b=["android","iphone","playbook","symbian","blackberry","windows phone","nokia"];console.log("agent==="+e);for(var c=0;c<d.length;c++){if(e.indexOf(d[c])>-1){g=true;a=false;break}else{g=false}}console.log(a);if(!g){for(var c=0;c<b.length;c++){if(e.indexOf(b[c])>-1){a=true;break}}}return a;console.log(a)};ui.isMobile=ui.fn.isMobile;(function(a,b){a.widget("ui.file",{options:{width:200,height:30},_create:function(){var c=this.element;var k=this.options;var e='<span class="file-wrap"></span>';var h='<input class="file-text" type="text" readonly /><input class="file-button" type="button" value="浏览" />';c.wrap(e).after(h);c.addClass("file-ifile").width(k.width).height(k.height);var j=c.parents(".file-wrap");var d=k.width-j.find(".file-button").width()-3;var g=j.offset().left;var i=j.offset().top;j.find(".file-text").width(d).height(k.height-2).css("line-height",k.height-2+"px");c.css({top:i,left:g})},_init:function(){var c=this.element;c.change(function(){var d=c.val().substring(c.val().lastIndexOf("\\")+1,c.val().length);c.parents(".file-wrap").find(".file-text").val(d)})},getVal:function(){getVal=this.element.parents(".file-wrap").find(".file-text").val();return getVal},destroy:function(){if(this.element.parents(".file-wrap").length>0){this.element.parents(".file-wrap").find(".file-text").remove();this.element.parents(".file-wrap").find(".file-button").remove();this.element.removeClass().unwrap(".file-wrap")}}});a.extend(a.ui.file,{version:"1.3"})})(jQuery);(function(a,b){a.widget("ui.accordion",{options:{wrapWidth:480,wrapHeight:480,imgWidth:400,imgHeight:300,direction:"x",autoplay:true,delay:3000,radius:8,fn:function(){}},_create:function(){},_init:function(){var d=this.element;var h=this.options;var i=d.find("li");var c=i.length;d.addClass("accor-wrap").css("border-radius",h.radius+"px").find("li").addClass("accor-elem").css("border-radius",h.radius+"px").find("img").css("border-radius",h.radius+"px").width(h.imgWidth).height(h.imgHeight);if(h.direction=="x"){g()}else{if(h.direction=="y"){e()}}h.fn();function g(){var m=parseInt((h.wrapWidth-h.imgWidth+1)/(c-1));var k=null;var j=0;d.width(h.wrapWidth).height(h.imgHeight);i.addClass("accor-border-left");i.eq(c-1).addClass("accor-current");i.each(function(n){var o=parseInt(m)*n;a(this).css({left:o});a(this).hover(function(){i.each(function(p){i.eq(n).addClass("accor-current").siblings("li").removeClass("accor-current");if(p<=n){a(this).stop().animate({left:p*parseInt(m)},500)}else{a(this).stop().animate({left:parseInt(h.wrapWidth-m*(c-p))},500)}});if(k!=null||k!="undefined"){clearInterval(k)}},function(){j=n;if(h.autoplay){k=setInterval(l,h.delay);if(++j>=c){j=0}}})});if(h.autoplay){k=setInterval(l,h.delay)}function l(){i.each(function(n){i.eq(j).addClass("accor-current").siblings("li").removeClass("accor-current");if(n<=j){a(this).stop().animate({left:n*parseInt(m)},500)}else{a(this).stop().animate({left:parseInt(h.wrapWidth-m*(c-n))},500)}});if(++j>=c){j=0}}}function e(){var l=parseInt((h.wrapHeight-h.imgHeight+1)/(c-1));var k=null;var j=0;d.width(h.imgWidth).height(h.wrapHeight);i.addClass("accor-border-top");i.eq(c-1).addClass("accor-current");i.each(function(n){var o=parseInt(l)*n;a(this).css({top:o});a(this).hover(function(){i.each(function(p){i.eq(n).addClass("accor-current").siblings("li").removeClass("accor-current");if(p<=n){a(this).stop().animate({top:p*parseInt(l)},500)}else{a(this).stop().animate({top:parseInt(h.wrapHeight-l*(c-p))},500)}});if(k!=null||k!="undefined"){clearInterval(k)}},function(){j=n;if(h.autoplay){k=setInterval(m,h.delay);if(++j>=c){j=0}}})});if(h.autoplay){k=setInterval(m,h.delay)}function m(){i.each(function(n){i.eq(j).addClass("accor-current").siblings("li").removeClass("accor-current");if(n<=j){a(this).stop().animate({top:n*parseInt(l)},500)}else{a(this).stop().animate({top:parseInt(h.wrapHeight-l*(c-n))},500)}});if(++j>=c){j=0}}}},destroy:function(){}});a.extend(a.fn.accordion,{version:"1.3"})})(jQuery);(function(a){a.fn.breadcrumb=function(b){var c={bread:[{}]};b=a.extend({},c,b||{});return this.each(function(){var k=a(this);var h=b.bread;var e=0,d=h.length;if(d===0){alert("参数传入错误!");return this}var j='<ul class="ui-breadcrumb">';var g=h[e++];if(d===1){j+='<li class="last-child"><span class="arrow"></span>'+g.name+"</li></ul>";k.html(j);return this}else{if(d===2){j+='<li><span class="arrow"></span><a href="'+g.url+'">'+g.name+'</a></li><li class="last-child"><span class="arrow"></span>'+g.name+"</li></ul>";k.html(j);return this}}j+='<li><a href="'+g.url+'">'+g.name+"</a></li>";for(e;e<d-1;e++){g=h[e];j+='<li><span class="arrow"></span><a href="'+g.url+'">'+g.name+"</a></li>"}g=h[d-1];j+='<li class="last-child"><span class="arrow"></span>'+g.name+"</li></ul>";k.html(j)})};a.extend(a.fn.breadcrumb,{version:"1.0"})})(jQuery);(function(a){a.fn.timeline=function(c){var d={timeBuilder:"hand",navDate:[],navStartDate:null,navDateOffset:null,content:[],url:null,initActive:null,width:400,height:191,basePath:"."};if(c!="destroy"){c=a.extend({},d,c||{});return this.each(function(){var u=a(this);var s=a('<div class="ui-timeline-nav" />');var w=a("<ul />");var g=a('<ul class="ui-timeline-content" />');var k=[];if(c.timeBuilder==="auto"){k=l(c.navStartDate,c.navDateOffset)}else{k=c.navDate}var h="";var e=c.basePath;for(var o=0,r=k.length;o<r;o++){h+=x(k[o],e)}w.html(h);s.html(w);u.prepend(s);var p=c.content,t=p.length;if(t!==0){if(t!==k.length){alert("时间点和数据不对应!");return}var q="",m;for(m=0;m<t;m++){q+='<li data-key="'+k[m]+'">'+p[m]+"</li>"}g.html(q);u.append(g)}else{a.getJSON(c.url,function(y){var i="";var j=c.initActive;for(var z in y){if(y.hasOwnProperty(z)){if(z==j){i+='<li data-key="'+z+'" class="current">'+z+"<br/>"+y[z]+"</li>"}else{i+='<li data-key="'+z+'">'+z+"<br/>"+y[z]+"</li>"}}}g.html(i);u.append(g)})}var n=c.height;n=n<91?100:n;u.width(c.width).height(n);n-=91;g.height(n);s.delegate("ul","click",function(y){var j=y.target;while(j.nodeType===3){j=j.parentNode}var i=a(j);if(i.is("ul")){return}if(!i.is("li")){if(i.is("span")){i=i.parent()}else{i=i.parent().parent()}}if(i.is(".selected")){return}i.attr("class","selected").siblings(".selected").removeClass();g.find('li[data-key="'+i.attr("data-key")+'"]').attr("class","current").siblings(".current").removeClass();return false});if(!c.initActive){s.find("li:first").trigger("click")}else{s.find('li[data-key="'+c.initActive+'"]').trigger("click")}function x(j,i){return'<li data-key="'+j+'"><span class="content"><img src="'+i+'/images/timeline/ui-timeline-bg-3.png"/><em></em><b>'+j+'</b></span><span class="tag"></span></li>'}function l(D,C){function y(i){return i.getFullYear()+"."+(i.getMonth()+1)+"."+i.getDate()}var B=new Date(D);C=C&&C>0?C:0;var z=[y(B)];for(var A=1,j=C;A<=j;A++){B.setDate(B.getDate()+1);z[z.length]=y(B)}return z}function v(){var y=document.getElementsByTagName("script");var A,j,B;for(A=0,j=y.length;A<j;A++){var C=y[A].src||"",z;if((z=C.indexOf("timeline.js"))!=-1){B=C.substring(0,z-1);break}}return B}})}else{var b=a(this).find("div.ui-timeline-nav").length>0;if(b){a(this).empty()}}};a.extend(a.fn.timeline,{version:"1.3"})})(jQuery);(function(a){a.fn.dialog=function(c){var d={zIndex:9,fixSize:true,width:"300px",height:"150px",event:"click",type:"html",content:"<p>默认加载的内容</p>",url:"",dataType:"text",ajaxCallBack:function(){},lifecycle:0};c=a.extend({},d,c||{});function b(h){if(!h||h.nodeType!==1||(h&&typeof h==="object"&&"setInterval" in h&&h.window===window)){var j=a(window);var g=j.width();var p=j.height();var m=j.scrollLeft();var i=j.scrollTop();return{ww:g,wh:p,wl:m,wt:i}}var n=a(h);var q=n.width();var k=n.height();var s=n.offset();var r=n.outerWidth();var l=n.outerHeight();return{w:q,h:k,ow:r,oh:l,l:s.left,t:s.top}}function e(i,h){var s=b();var r=b(i);h.css({display:"block",visibility:"hidden"});var n=b(h[0]);h.css({display:"none",visibility:"visible"});var q={};var k=9;var p=11;var j=r.t+r.oh+k+n.oh;var m=k+n.oh;var g=n.ow+p;var l=r.l+r.ow+p+n.ow;if(j<s.wh){q={w:n.w+"px",h:n.h+"px",top:r.t+r.oh+k+"px",left:r.l+r.ow-n.ow+"px",className:"top",triangleLeft:n.ow-30+"px",triangleTop:"-10px"}}else{if(m<r.t){q={w:n.w+"px",h:n.h+"px",top:r.t-n.oh-k+"px",left:r.l+r.ow-n.ow+"px",className:"bottom",triangleLeft:n.w-30+"px",triangleTop:n.oh-2+"px"}}else{if(l<s.ww){q={w:n.w+"px",h:n.h+"px",top:r.t+"px",left:r.l+r.ow+p+"px",className:"left",triangleLeft:"-10px",triangleTop:"10px"}}else{if(g<r.l){q={w:n.w+"px",h:n.h+"px",top:r.t+r.oh-n.oh+"px",left:r.l-g+"px",className:"right",triangleLeft:n.ow-2+"px",triangleTop:n.h-30+"px"}}}}}return q}return this.each(function(){var k=this;var p=a(k);var g,h,i,j;function o(){g=p.attr("data-dialog");if(!g){g=k.id||k.nodeName.toLowerCase();g+="-"+(new Date()).getTime();h=a('<div class="content-container" />');i=a('<div class="ui-dailog-triangle"/>');j=a('<div class="ui-dailog" data-load="false" id='+g+" />");j.prepend(i).append(h);j.css("zIndex",c.zIndex);if(c.fixSize){j.css({width:c.width,height:c.height})}switch(c.type){case"html":h.html(c.content);break;case"ajax":a.get(c.url,function(q){(c.ajaxCallBack)();h.html(q)},c.dataType);break;case"iframe":a('<iframe src="'+c.url+'" frameborder="0"></iframe>').appendTo(h);break}p.attr("data-dialog",g)}else{j=a("#"+g);i=j.find(">div.ui-dailog-triangle");h=j.find(">div.content-container")}j.appendTo(document.body)}function l(){var r=p.offset();var q=e(k,j);var s={width:q.w,height:q.h};i.attr("class","ui-dailog-triangle "+q.className).css({top:q.triangleTop,left:q.triangleLeft});j.css({left:q.left,top:q.top,width:0,height:0,display:"block"}).animate(s,600)}function m(q){var r={display:"none",width:j.width(),height:j.height()};j.animate({width:0,height:0},600,function(){if(q===0){j.css(r)}else{if(q===1){j.empty().remove();p.removeAttr("data-dialog")}}})}function n(){o();var r=c.event;if(r==="hover"||r==="focus"){var q=null;var s=null;p.bind({mouseover:function(){clearTimeout(q);q=null;clearTimeout(s);s=setTimeout(function(){l()},500)},mouseout:function(){q=setTimeout(function(){m(c.lifecycle)},500)}});j.hover(function(){clearTimeout(q);q=null},function(){p.trigger("mouseout")})}else{p.bind(r,function(t){o();if(j.is(":hidden")){l()}else{m(c.lifecycle)}})}}n()})};a.extend(a.fn.dialog,{version:"1.0"})})(jQuery);(function(a,b){a.widget("ui.onscroll",{options:{scrollDir:"y",inTar:function(){},outTar:function(){}},_create:function(){},_init:function(){var c=this.element;var k=this.options;var e=false;var h=false;if(k.scrollDir=="y"){var j=parseInt(c.offset().top);var d=parseInt(j+c.height());a(document).scroll(function(){var l=parseInt(a(document).scrollTop());if((l>=j)&&(l<=d)&&(!h)){k.inTar();e=true;h=true}else{if(((l<j)||(l>d))&&e){k.outTar();e=false;h=false}}})}else{if(k.scrollDir=="x"){var i=parseInt(c.offset().left);var g=parseInt(i+c.width());a(document).scroll(function(){var l=parseInt(a(document).scrollLeft());if((l>=i)&&(l<=g)&&(!h)){k.inTar();e=true;h=true}else{if(((l<i)||(l>g))&&e){k.outTar();e=false;h=false}}})}else{if(k.scrollDir=="xy"){var j=parseInt(c.offset().top);var d=parseInt(j+c.height());var i=parseInt(c.offset().left);var g=parseInt(i+c.width());a(document).scroll(function(){var l=parseInt(a(document).scrollTop());var m=parseInt(a(document).scrollLeft());if((m>=i)&&(m<=g)&&(l>=j)&&(l<=d)&&(!h)){k.inTar();e=true;h=true}else{if(((m<i)||(m>g)||(l<j)||(l>d))&&e){k.outTar();e=false;h=false}}})}}}}});a.extend(a.fn.onscroll,{version:"1.3"})})(jQuery);(function(e,h){e.widget("ui.carousel",{options:{wrapWid:900,wrapHei:480,imgWid:350,imgHei:214,reflHeight:0,reflOpacity:0.5,reflGap:0,minScale:0.5,xPos:0,yPos:0,xRadius:0,yRadius:0,altBox:null,titleBox:null,buttonLeft:null,buttonRight:null,autoRotate:"no",autoRotateDelay:1500,speed:0.2,mouseWheel:false,bringToFront:false,imgClick:function(){}},_create:function(){var i=this.element;var j=this.options;i.width(j.wrapWid+"px").height(j.wrapHei+"px");i.find("img").width(j.imgWid+"px").height(j.imgHei+"px");i.data(i,new g(i,e(i.find("img"),i),j))},_init:function(){var i=this.element;var j=this.options;i.find("img").click(function(){j.imgClick()})},destroy:function(){var k=this.element;var p=this.options;if(k.find("#carouselWrap")){var l=e("#carouselWrap").html();k.html(l);if(k.find("canvas")){e("canvas").remove()}var n=k.find("img");var j=n.length;for(var m=0;m<j;m++){n.attr("style","").width(p.imgWid).height(p.imgHei)}}}});function c(j,p,m){var i,k,o=j.width,l=j.width,q,r;r=e(j.parentNode);this.element=i=r.append("<canvas class='reflection' style='position:absolute'/>").find(":last")[0];if(!i.getContext&&e.browser.msie){this.element=i=r.append("<img class='reflection' style='position:absolute'/>").find(":last")[0];i.src=j.src;i.style.filter="flipv progid:DXImageTransform.Microsoft.Alpha(opacity="+(m*100)+", style=1, finishOpacity=0, startx=0, starty=0, finishx=0, finishy="+(p/l*100)+")"}else{k=i.getContext("2d");try{e(i).attr({width:o,height:p});k.save();k.translate(0,l-1);k.scale(1,-1);k.drawImage(j,0,0,o,l);k.restore();k.globalCompositeOperation="destination-out";q=k.createLinearGradient(0,0,0,p);q.addColorStop(0,"rgba(255, 255, 255,"+(1-m)+")");q.addColorStop(1,"rgba(255, 255, 255, 1.0)");k.fillStyle=q;k.fillRect(0,0,o,p)}catch(n){return}}e(i).attr({alt:e(j).attr("alt"),title:e(j).attr("title")})}var a=function(j,i){this.orgWidth=j.width;this.orgHeight=j.height;this.image=j;this.reflection=null;this.alt=j.alt;this.title=j.title;this.imageOK=false;this.options=i;this.imageOK=true;if(this.options.reflHeight>0){this.reflection=new c(this.image,this.options.reflHeight,this.options.reflOpacity)}e(this.image).css("position","absolute")};var g=function(l,j,n){var m=[],o=Math.sin,i=Math.cos,k=this;this.controlTimer=0;this.stopped=false;this.container=l;this.xRadius=n.xRadius;this.yRadius=n.yRadius;this.showFrontTextTimer=0;this.autoRotateTimer=0;if(n.xRadius===0){this.xRadius=(e(l).width()/2.3)}if(n.yRadius===0){this.yRadius=(e(l).height()/6)}this.xCentre=n.xPos;this.yCentre=n.yPos;this.frontIndex=0;this.rotation=this.destRotation=Math.PI/2;this.timeDelay=1000/n.FPS;if(n.altBox!==null){e(n.altBox).css("display","block");e(n.titleBox).css("display","block")}e(l).css({position:"relative",overflow:"hidden"});e(n.buttonLeft).css("display","inline");e(n.buttonRight).css("display","inline");e(n.buttonLeft).bind("mouseup",this,function(p){p.data.rotate(-1);return false});e(n.buttonRight).bind("mouseup",this,function(p){p.data.rotate(1);return false});if("ontouchstart" in document.documentElement){e(l).bind("touchstart",this,function(r){clearInterval(r.data.autoRotateTimer);var t=e(r.target).attr("alt");if(t!==h&&t!==null){clearTimeout(r.data.showFrontTextTimer);e(n.altBox).html(e(r.target).attr("alt"));e(n.titleBox).html(e(r.target).attr("title"));if(n.bringToFront&&r.type=="click"){var p=e(r.target).data("itemIndex");var q=r.data.frontIndex;var s=(p-q)%j.length;if(Math.abs(s)>j.length/2){s+=(s>0?-j.length:j.length)}r.data.rotate(-s)}}});e(l).bind("touchend",this,function(q){var p=q.data;clearTimeout(p.showFrontTextTimer);p.showFrontTextTimer=setTimeout(function(){p.showFrontText()},1000);p.autoRotate()})}else{if(n.mouseWheel){e(l).bind("mousewheel",this,function(p,q){p.data.rotate(q);return false})}e(l).bind("mouseover click",this,function(r){clearInterval(r.data.autoRotateTimer);var t=e(r.target).attr("alt");if(t!==h&&t!==null){clearTimeout(r.data.showFrontTextTimer);e(n.altBox).html(e(r.target).attr("alt"));e(n.titleBox).html(e(r.target).attr("title"));if(n.bringToFront&&r.type=="click"){var p=e(r.target).data("itemIndex");var q=r.data.frontIndex;var s=(p-q)%j.length;if(Math.abs(s)>j.length/2){s+=(s>0?-j.length:j.length)}r.data.rotate(-s)}}});e(l).bind("mouseout",this,function(q){var p=q.data;clearTimeout(p.showFrontTextTimer);p.showFrontTextTimer=setTimeout(function(){p.showFrontText()},1000);p.autoRotate()})}e(l).bind("mousedown",this,function(p){p.data.container.focus();return false});l.onselectstart=function(){return false};this.innerWrapper=e(l).wrapInner('<div style="position:absolute;width:100%;height:100%;" id="carouselWrap"/>').children()[0];this.showFrontText=function(){if(this.frontIndex<0){this.frontIndex=j.length-1}if(m[this.frontIndex]===h){return}e(n.titleBox).html(e(m[this.frontIndex].image).attr("title"));e(n.altBox).html(e(m[this.frontIndex].image).attr("alt"))};this.go=function(){if(this.controlTimer!==0){return}var p=this;this.controlTimer=setTimeout(function(){p.updateAll()},this.timeDelay)};this.stop=function(){clearTimeout(this.controlTimer);this.controlTimer=0};this.rotate=function(p){this.frontIndex-=p;this.frontIndex%=m.length;this.destRotation+=(Math.PI/m.length)*(2*p);this.showFrontText();this.go()};this.autoRotate=function(){if(n.autoRotate!=="no"){var p=(n.autoRotate==="right")?1:-1;this.autoRotateTimer=setInterval(function(){k.rotate(p)},n.autoRotateDelay)}};this.updateAll=function(){var J=n.minScale;var v=(1-J)*0.5;var t,G,s,r,L,I,C;var u=(this.destRotation-this.rotation);var B=Math.abs(u);this.rotation+=u*n.speed;if(B<0.001){this.rotation=this.destRotation}var F=m.length;var q=(Math.PI/F)*2;var K=this.rotation;var A=e.browser.msie;this.innerWrapper.style.display="none";var H;var z="px",D;var p=this;for(var E=0;E<F;E++){I=m[E];C=o(K);L=((C+1)*v)+J;s=this.xCentre+(((i(K)*this.xRadius)-(I.orgWidth*0.5))*L);r=this.yCentre+(((C*this.yRadius))*L);if(I.imageOK){var M=I.image;t=M.width=I.orgWidth*L;G=M.height=I.orgHeight*L;M.style.left=s+z;M.style.top=r+z;M.style.zIndex=""+(L*100)>>0;if(I.reflection!==null){D=n.reflHeight*L;H=I.reflection.element.style;H.left=s+z;H.top=r+G+n.reflGap*L+z;H.width=t+z;if(A){H.filter.finishy=(D/G*100)}else{H.height=D+z}}}K+=q}this.innerWrapper.style.display="block";if(B>=0.001){this.controlTimer=setTimeout(function(){p.updateAll()},this.timeDelay)}else{this.stop()}};this.checkImagesLoaded=function(){var p;for(p=0;p<j.length;p++){if((j[p].width===h)||((j[p].complete!==h)&&(!j[p].complete))){return}}for(p=0;p<j.length;p++){m.push(new a(j[p],n));e(j[p]).data("itemIndex",p)}clearInterval(this.tt);this.showFrontText();this.autoRotate();this.updateAll()};this.tt=setInterval(function(){k.checkImagesLoaded()},50)};var b=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var j=b.length;j;){this.addEventListener(b[--j],d,false)}}else{this.onmousewheel=d}},teardown:function(){if(this.removeEventListener){for(var j=b.length;j;){this.removeEventListener(b[--j],d,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel")},unmousewheel:function(i){return this.unbind("mousewheel",i)}});function d(k){var i=[].slice.call(arguments,1),l=0,j=true;k=e.event.fix(k||window.event);k.type="mousewheel";if(k.wheelDelta){l=k.wheelDelta/120}if(k.detail){l=-k.detail/3}i.unshift(k,l);return e.event.handle.apply(this,i)}e.extend(e.fn.carousel,{version:"1.3"})})(jQuery);(function(a,b){a.widget("ui.lazyImage",{options:{isCtx:true,isHungry:true,lazyAttr:"data-lazyImg",_$imgCon:null,placeHolder:"/images/blank.gif"},_create:function(){var c=this.element;var d=this.options;if(d.isCtx){d._$imgCon=a("img["+d.lazyAttr+'="true"]',c)}else{d._$imgCon=a("img["+d.lazyAttr+'="true"]')}d._$imgCon.attr("src",d.placeHolder);d._coordinate=function(e){var h={width:e.width(),height:e.height()};if("setInterval" in e[0]){h.top=e.scrollTop();h.left=e.scrollLeft()}else{var g=e.offset();h.top=g.top+e.scrollTop();h.left=g.left+e.scrollLeft()}return h};d._isCut=function(k,h){var g=k.left+k.width;var j=k.top+k.height;var i=h.left+h.width;var e=h.top+h.height;return g>h.left&&j>h.top};d._lazyImage=function(){var g=a(window);var e=d._$imgCon.filter("["+d.lazyAttr+'="true"]');var h=d._coordinate(g);e.each(function(j,l){var k=a(this);var i=d._coordinate(k);if(d._isCut(h,i)){k.attr("src",k.attr("data-original")).attr(d.lazyAttr,"loaded")}})}},_init:function(){if(this.options.isHungry){this.load()}},load:function(){var c=this.options;c._lazyImage();a(window).bind("scroll resize",a.proxy(c._lazyImage,c))},show:function(){},hide:function(){},enable:function(){},disable:function(){},destroy:function(){}});a.extend(a.ui.lazyImage,{version:"1.3"})})(jQuery);(function(a,b){a.widget("ui.lazyContent",{options:{mode:"1",el:"",dataTmpl:"<div />",dataElem:"",dataType:"html",renderType:"auto",render:function(c){},timeout:350,loading:"/javascripts/loading.gif",event:"click"},_create:function(){},_init:function(){var g=this.element;var d=this.options;var l=d.el;var i=d.dataElem;var e=d.mode;var c;var h=null;var k;(new Image()).src=d.loading;var j=a('<img alt="加载中..." data-placeHolder="loading"/>').attr("src",d.loading);if(e==="0"){if(!(l instanceof jQuery)){l=a(l)}g.unbind(d.event).delegate(i,d.event,function(n){clearTimeout(h);c=a(n.target).closest(i);k=c.attr("data-load");if(k){l.find("#"+c.attr("data-item")).show().siblings().hide()}else{var m=c.attr("data-url");var o=c.attr("data-param");j.appendTo(l);h=setTimeout(function(){a.get(m,"dataType="+o,function(q){l.find('img[data-placeHolder="loading"]').remove();var r="item_"+(new Date()).getTime();var p=q;if(d.renderType==="hand"){p=d.render(q)}a(d.dataTmpl).html(p).attr("id",r).appendTo(l).show().siblings().hide();c.attr("data-item",r).attr("data-load","loaded")},d.dataType)},d.timeout)}})}else{g.unbind(d.event).bind(d.event,function(o){k=g.attr("data-load");if(k){return}clearTimeout(h);var n=g.attr("data-url");var p=g.attr("data-param");var m=g.find(d.el);j.appendTo(m);h=setTimeout(function(){a.get(n,"dataType="+p,function(r){m.find('img[data-placeHolder="loading"]').remove();var s="item_"+(new Date()).getTime();var q=r;if(d.renderType==="hand"){q=d.render(r)}a(d.dataTmpl).html(q).attr("id",s).appendTo(m).show().siblings().hide();g.attr("data-item",s).attr("data-load","loaded")},d.dataType)},d.timeout)})}},show:function(){},hide:function(){},enable:function(){},disable:function(){},destroy:function(){}});a.extend(a.ui.lazyContent,{version:"1.3"})})(jQuery);(function(a,b){a.widget("ui.minScrollbar",{options:{hScroll:true,vScroll:true,height:"10px",width:"10px",bgColor:"#000",viewHeight:"200px",viewWidth:"200px"},_create:function(){var s=this.options;if(!s.hScroll&&!s.vScroll){return false}var c=this.element,u=a("<div class='ui-minScrollbar-viewable'/>"),n=a("<div class='ui-minScrollbar-vertical'><div class='ui-vScroll'></div></div>"),h=a("<div class='ui-minScrollbar-horizontal'><div class='ui-hScroll'></div></div>"),v=("ontouchstart" in window),x,w;c.attr("data-destroy","true");c.wrap(u).addClass("ui-minScrollbar");u.css({height:s.viewHeight,width:s.viewWidth});if(s.hScroll){c.parent().append(h);var e=h.find("div.ui-hScroll"),j=parseFloat(s.viewWidth),q=c.width(),i=Math.round(j*j/q);if(v){x=q-r;nX=(j-i-2)/x}else{x=j-i-2;nX=(q-j)/x}e.attr({maxScrollX:x,nX:nX}).css("cursor","pointer")}if(s.vScroll){c.parent().append(n);var k=n.find("div.ui-vScroll"),r=parseFloat(s.viewHeight),y=c.height(),t=Math.round(r*r/y);if(v){w=y-r;nY=(r-t-2)/w}else{w=r-t-2;nY=(y-r)/w}k.attr({maxScrollY:w,nY:nY}).css("cursor","pointer")}this._eventListener(c,e,k,s);var m=setInterval(function(){d()},300);function d(){var o=c.parent().find("div.ui-minScrollbar-horizontal");var z=c.parent().find("div.ui-minScrollbar-vertical");if(o.length==0&&z.length==0){clearTimeout(m)}else{if(o.length!=0){l()}if(z.length!=0){p()}}}function l(){if(s.hScroll){var F=c.parent().width(),B=c.width();if(F==j&&B==q){return}else{j=F;q=B}i=(j*j/q);if(v){x=q-j;nX=(j-i-2)/x}else{x=j-i-2;nX=(q-j)/x}e.attr({maxScrollX:x,nX:nX});if(i<j){e.css("display","block")}else{e.css("display","none")}var E=parseFloat(c.css("left"));var D=q+E;if(D<j&&i<j){var C=E+(j-D);c.css("left",C+"px")}var o=parseFloat(e.css("left"));var A=i+o;if(A>j){var z=o-(A-j+2);e.css("left",z+"px")}e.width(i).parent().width(j)}}function p(){if(s.vScroll){var B=c.parent().height(),F=c.height();if(B==r&&F==y){return}else{r=B;y=F}t=(r*r/y);if(v){w=y-r;nY=(r-t-2)/w}else{w=r-t-2;nY=(y-r)/w}k.attr({maxScrollY:w,nY:nY});if(t<r){k.css("display","block")}else{k.css("display","none")}var D=parseFloat(c.css("top"));var z=y+D;if(z<r&&t<r){var A=D+(r-z);c.css("top",A+"px")}var o=parseFloat(k.css("top"));var E=t+o;if(E>r){var C=o-(E-r+2);k.css("top",C+"px")}k.height(t)}}var g=(c.attr("data-xy")||"").toLocaleUpperCase();if(s.hScroll){if(g=="Y"){e.css("display","none");s.hScroll=false}}if(s.vScroll){if(g=="X"){k.css("display","none");s.vScroll=false}}},_init:function(){var d=this.options,g=this.element,m=g.parent(),u=m.find("div.ui-minScrollbar-horizontal>div.ui-hScroll"),n=m.find("div.ui-minScrollbar-vertical>div.ui-vScroll"),s=(/webkit/i).test(navigator.appVersion)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":"opera" in window?"O":"";if(!d.hScroll&&!d.vScroll){return false}m.css({height:d.viewHeight,width:d.viewWidth});if(d.hScroll){u.css("display","block");var e=parseFloat(m.width()),t=g.width();var i=Math.round(e*e/t);if(i<e){var j=parseFloat(d.height);if(j<=5){d.height="7px"}else{if(j>=30){d.height="30px"}}var p=parseFloat(d.height);if(s=="Moz"){p-=2}u.width(i).css({height:p+"px","background-color":d.bgColor}).parent().css({height:d.height})}else{if(i>=e){u.css("display","none")}}}else{u.css("display","none")}if(d.vScroll){n.css("display","block");var r=parseFloat(m.height()),l=g.height();var c=Math.round(r*r/l);if(c<r){var q=parseFloat(d.width);if(q<=5){d.width="7px"}else{if(q>=30){d.width="30px"}}var k=parseFloat(d.width);if(s=="Moz"){k-=2}n.height(c).css({width:k+"px","background-color":d.bgColor}).parent().css({width:d.width})}else{if(c>=r){n.css("display","none")}}}else{n.css("display","none")}},_eventListener:function(d,e,j,n){var w=("ontouchstart" in window),x=(/webkit/i).test(navigator.appVersion)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":"opera" in window?"O":"",c=w?"touchstart":"mousedown",p=w?"touchmove":"mousemove",h=w?"touchend":"mouseup",s=w?"touchcancel":"mouseout",q=x=="Moz"?"DOMMouseScroll":"mousewheel";if(w){d[0].ontouchstart=function(o){u(o);return false};d[0].ontouchmove=function(o){g(o);return false};d[0].ontouchend=function(o){i(o);return false};d[0].ontouchcancel=function(o){i(o);return false}}else{d.bind(q,function(o){l(o)});e.bind(c,function(o){u(o)}).bind(h,function(o){i(o)});j.bind(c,function(o){u(o)}).bind(h,function(o){i(o)});a(window.document).bind(p,function(o){g(o)}).bind(h,function(o){i(o)});a(d.parent()).bind("selectstart",function(){return false})}var m=false,v=0,t=0,r="";function u(y){m=true;r=a(y.target).attr("class");var o=w?y.touches[0]:y;v=o.clientX;t=o.clientY}function g(B){if(w){B.preventDefault()}if(!m){return false}else{var o=w?B.touches[0]:B,z=o.clientX,y=o.clientY,C=z-v,A=y-t;v=z;t=y;if(C==0&&A==0){return false}k(C,A)}}function i(o){m=false;r=""}function l(z){r="ui-vScroll";if(n.vScroll){if(j.css("display")=="none"){return}}var y,o;if("wheelDeltaX" in z){y=-z.wheelDeltaX/12;o=-z.wheelDeltaY/12}else{if("wheelDelta" in z&&x!="Moz"){y=o=-z.wheelDelta/12}else{if("detail" in z&&x=="Moz"){y=o=z.detail*3}}}k(y,o)}function k(z,o){var B=0,A=0;if(w){if(n.hScroll){B=parseFloat(d.css("left"))}if(n.vScroll){A=parseFloat(d.css("top"))}}else{if(n.hScroll){B=parseFloat(e.css("left"))}if(n.vScroll){A=parseFloat(j.css("top"))}}var E=B+z,C=A+o;if(w){if(n.hScroll){var F=e.attr("maxScrollX");var H=e.attr("nX");if(E>0){E=0}else{if(E<-F){E=-F}}E=n.hScroll?E:0;d.css("left",E+"px");e.css("left",-E*H+"px")}if(n.vScroll){var D=j.attr("maxScrollY");var G=j.attr("nY");if(C>0){C=0}else{if(C<-D){C=-D}}C=n.vScroll?C:0;d.css("top",C+"px");j.css("top",-C*G+"px")}}else{if(r=="ui-hScroll"){var F=parseFloat(e.attr("maxScrollX"));var H=e.attr("nX");if(E<0){E=0}else{if(E>F){E=F}}E=n.hScroll?E:0;d.css("left",-E*H+"px");e.css("left",E+"px")}else{if(r=="ui-vScroll"){var D=parseFloat(j.attr("maxScrollY"));var G=j.attr("nY");if(C<0){C=0}else{if(C>D){C=D}}C=n.vScroll?C:0;d.css("top",-C*G+"px");j.css("top",C+"px")}}}}},_setOption:function(c,d){this.options[c]=d},destroy:function(){if(this.element.attr("data-destroy")=="true"){if("ontouchstart" in window){var c=this.element;c[0].ontouchstart=null;c[0].ontouchmove=null;c[0].ontouchend=null;c[0].ontouchcancel=null}else{this.element.attr("data-destroy","false").removeClass("ui-minScrollbar").unbind().nextAll().unbind().remove("div.ui-minScrollbar-horizontal,div.ui-minScrollbar-vertical").end().parent().unbind().end().unwrap("div.ui-minScrollbar-viewable")}}}});a.extend(a.ui.minScrollbar,{version:"1.3",author:"黄卉",date:"2012-10-10"})})(jQuery);$(function(){$(".ui-minScrollbar").minScrollbar()});(function(a,b){a.widget("ui.txttruncate",{options:{dataPrompt:true,dataFormat:"...",customFn:function(){}},_create:function(){},_init:function(){var j=this.element;var c=this.options;var l=j.attr("data-width");var h=j.attr("data-length");var g=j.html();var n=parseInt(j.css("font-size"));var k=c.dataFormat;var m=(l!=b);var e=(h!=b);if(e){}else{if(!e&&m){h=Math.floor(l/n)}else{l=j.width();h=Math.floor(l/n);a(window).resize(function(){l=j.width();h=Math.floor(l/n)})}}if(i(g,h)!=g){var d=i(g,h)+k}else{var d=i(g,h)}j.html(d).attr("data-source",g);a(window).resize(function(){if(i(g,h)!=g){var o=i(g,h)+k}else{var o=i(g,h)}j.html(o).attr("data-source",g)});if(c.dataPrompt){j.attr("title",g)}c.customFn();function i(s,t){var r=0;for(var o=0;o<s.length;o++){var p=s.charAt(o);encodeURI(p).length>2?r+=1:r+=0.5;if(r>t){var q=r==t?o+1:o;return s.substr(0,q)}}return s}},setformat:function(d){var c=this.element;var e=this.options;if(c.attr("data-source")){c.html(c.attr("data-source"))}c.txttruncate({dataFormat:d})},setlength:function(d){var c=this.element;var e=this.options;if(c.attr("data-source")){c.html(c.attr("data-source"))}c.attr("data-length",d);c.txttruncate()},setwidth:function(d){var c=this.element;var e=this.options;if(c.attr("data-source")){c.html(c.attr("data-source"))}c.attr("data-width",d);c.txttruncate()},setcsswid:function(e){var c=this.element;var d=this.options;if(c.attr("data-source")){c.html(c.attr("data-source"))}c.removeAttr("data-length").removeAttr("data-width");c.css("width",e).txttruncate()},destroy:function(){var c=this.element;var d=this.options;if(c.attr("data-source")){c.html(c.attr("data-source"))}}});a.extend(a.fn.txttruncate,{version:"1.3"})})(jQuery);(function(b,a){b.widget("ui.tochart",{options:{type:"bar",width:null,height:null,appendTitle:true,title:null,appendKey:true,rowFilter:"*",colFilter:"*",colors:["#be1e2d","#666699","#92d5ea","#ee8310","#8d10ee","#5a3b16","#26a4ed","#f45a90","#e9e744"],textColors:[],parseDirection:"x",pieMargin:20,pieLabelPos:"inside",lineWeight:4,barGroupMargin:10,barMargin:1,yLabelInterval:30,customFn:function(){}},_create:function(){},_init:function(){var l=this.element;var s=this.options;s.width=(s.width==null)?parseInt(l.width()):parseInt(s.width);s.height=(s.height==null)?parseInt(l.height()):parseInt(s.height);if(l.next(".visualize").length>0){l.next(".visualize").remove()}function A(){var o=s.colors;var C=s.textColors;var B={dataGroups:function(){var D=[];if(s.parseDirection=="x"){l.find("tr:gt(0)").filter(s.rowFilter).each(function(G){D[G]={};D[G].points=[];D[G].color=o[G];if(C[G]){D[G].textColor=C[G]}b(this).find("td").filter(s.colFilter).each(function(){D[G].points.push(parseFloat(b(this).text()))})})}else{var F=l.find("tr:eq(1) td").filter(s.colFilter).size();for(var E=0;E<F;E++){D[E]={};D[E].points=[];D[E].color=o[E];if(C[E]){D[E].textColor=C[E]}l.find("tr:gt(0)").filter(s.colFilter).each(function(){D[E].points.push(b(this).find("td").eq(E).text()*1)})}}return D},allData:function(){var D=[];b(this.dataGroups()).each(function(){D.push(this.points)});return D},dataSum:function(){var E=0;var D=this.allData().join(",").split(",");b(D).each(function(){E+=parseFloat(this)});return E},topValue:function(){var E=0;var D=this.allData().join(",").split(",");b(D).each(function(){if(parseFloat(this,10)>E){E=parseFloat(this)}});return E},bottomValue:function(){var E=0;var D=this.allData().join(",").split(",");b(D).each(function(){if(this<E){E=parseFloat(this)}});return E},memberTotals:function(){var E=[];var D=this.dataGroups();b(D).each(function(F){var G=0;b(D[F].points).each(function(H){G+=D[F].points[H]});E.push(G)});return E},yTotals:function(){var G=[];var E=this.dataGroups();var H=this.xLabels().length;for(var F=0;F<H;F++){G[F]=[];var D=0;b(E).each(function(I){G[F].push(this.points[F])});G[F].join(",").split(",");b(G[F]).each(function(){D+=parseFloat(this)});G[F]=D}return G},topYtotal:function(){var D=0;var E=this.yTotals().join(",").split(",");b(E).each(function(){if(parseFloat(this,10)>D){D=parseFloat(this)}});return D},totalYRange:function(){return this.topValue()-this.bottomValue()},xLabels:function(){var D=[];if(s.parseDirection=="x"){l.find("tr:eq(0) th").filter(s.colFilter).each(function(){D.push(b(this).html())})}else{l.find("tr:gt(0) th").filter(s.rowFilter).each(function(){D.push(b(this).html())})}return D},yLabels:function(){var F=[];F.push(j);var E=Math.round(s.height/s.yLabelInterval);var D=Math.ceil(c/E)||1;while(F[F.length-1]<q-D){F.push(F[F.length-1]+D)}F.push(q);return F}};return B}var x={pie:function(){m.addClass("visualize-pie");if(s.pieLabelPos=="outside"){m.addClass("visualize-pie-outside")}var E=Math.round(h.width()/2);var D=Math.round(h.height()/2);var o=D-s.pieMargin;var B=0;var C=function(G){return(Math.PI/180)*G};var F=b('<ul class="visualize-labels"></ul>').insertAfter(h);b.each(p,function(L){var P=(this<=0||isNaN(this))?0:this/n;t.beginPath();t.moveTo(E,D);t.arc(E,D,o,B*Math.PI*2-Math.PI*0.5,(B+P)*Math.PI*2-Math.PI*0.5,false);t.lineTo(E,D);t.closePath();t.fillStyle=d[L].color;t.fill();var N=(B+P/2);var G=s.pieLabelPos=="inside"?o/1.5:o+o/5;var K=Math.round(E+Math.sin(N*Math.PI*2)*(G));var J=Math.round(D-Math.cos(N*Math.PI*2)*(G));var H=(K>E)?"right":"left";var I=(J>D)?"bottom":"top";var O=b('<span class="visualize-label">'+Math.round(P*100)+"%</span>").css(H,0).css(I,0);var M=b('<li class="visualize-label-pos"></li>').appendTo(F).css({left:K,top:J}).append(O);O.css("font-size",o/8).css("margin-"+H,-O.width()/2).css("margin-"+I,-O.outerHeight()/2);if(d[L].textColor){O.css("color",d[L].textColor)}B+=P})},line:function(E){if(E){m.addClass("visualize-area")}else{m.addClass("visualize-line")}var F=h.width()/(r.length-1);var C=b('<ul class="visualize-labels-x"></ul>').width(h.width()).height(h.height()).insertBefore(h);b.each(r,function(I){var G=b("<li><span>"+this+"</span></li>").prepend('<span class="line" />').css("left",F*I).appendTo(C);var H=G.find("span:not(.line)");var J=H.width()/-2;if(I==0){J=0}else{if(I==r.length-1){J=-H.width()}}H.css("margin-left",J).addClass("label")});var D=h.height()/c;var o=h.height()/(y.length-1);var B=b('<ul class="visualize-labels-y"></ul>').width(h.width()).height(h.height()).insertBefore(h);b.each(y,function(J){var G=b("<li><span>"+this+"</span></li>").prepend('<span class="line" />').css("bottom",o*J).prependTo(B);var H=G.find("span:not(.line)");var I=H.height()/-2;if(J==0){I=-H.height()}else{if(J==y.length-1){I=0}}H.css("margin-top",I).addClass("label")});t.translate(0,e);b.each(d,function(I){t.beginPath();t.lineWidth=s.lineWeight;t.lineJoin="round";var H=this.points;var G=0;t.moveTo(0,-(H[0]*D));b.each(H,function(){t.lineTo(G,-(this*D));G+=F});t.strokeStyle=this.color;t.stroke();if(E){t.lineTo(G,0);t.lineTo(0,0);t.closePath();t.fillStyle=this.color;t.globalAlpha=0.3;t.fill();t.globalAlpha=1}else{t.closePath()}})},area:function(){x.line(true)},bar:function(){m.addClass("visualize-bar");var I=h.width()/(r.length);var E=b('<ul class="visualize-labels-x"></ul>').width(h.width()).height(h.height()).insertBefore(h);b.each(r,function(O){var M=b('<li><span class="label">'+this+"</span></li>").prepend('<span class="line" />').css("left",I*O).width(I).appendTo(E);var N=M.find("span.label");N.addClass("label")});var o=h.height()/c;var F=h.height()/(y.length-1);var K=b('<ul class="visualize-labels-y"></ul>').width(h.width()).height(h.height()).insertBefore(h);b.each(y,function(P){var M=b("<li><span>"+this+"</span></li>").prepend('<span class="line" />').css("bottom",F*P).prependTo(K);var N=M.find("span:not(.line)");var O=N.height()/-2;if(P==0){O=-N.height()}else{if(P==y.length-1){O=0}}N.css("margin-top",O).addClass("label")});t.translate(0,e);for(var D=0;D<d.length;D++){t.beginPath();var G=(I-s.barGroupMargin*2)/d.length;var H=G-(s.barMargin*2);t.lineWidth=H;var J=d[D].points;var C=0;for(var B=0;B<J.length;B++){var L=(C-s.barGroupMargin)+(D*G)+G/2;L+=s.barGroupMargin*2;t.moveTo(L,0);t.lineTo(L,Math.round(-J[B]*o));C+=I}t.strokeStyle=d[D].color;t.stroke();t.closePath()}}};var k=document.createElement("canvas");k.setAttribute("height",s.height);k.setAttribute("width",s.width);var h=b(k);var z=s.title||l.find("caption").text();var m=(a||b('<div class="visualize" role="img" aria-label="Chart representing data from the table: '+z+'" />')).height(s.height).width(s.width).append(h);var g=A();var d=g.dataGroups();var w=g.allData();var n=g.dataSum();var q=g.topValue();var j=g.bottomValue();var p=g.memberTotals();var c=g.totalYRange();var e=s.height*(q/c);var r=g.xLabels();var y=g.yLabels();if(s.appendTitle||s.appendKey){var i=b('<div class="visualize-info"></div>').appendTo(m)}if(s.appendTitle){b('<div class="visualize-title">'+z+"</div>").appendTo(i)}if(s.appendKey){var v=b('<ul class="visualize-key"></ul>');var u;if(s.parseDirection=="x"){u=l.find("tr:gt(0) th").filter(s.rowFilter)}else{u=l.find("tr:eq(0) th").filter(s.colFilter)}l.find(u).each(function(o){b('<li><span class="visualize-key-color" style="background: '+d[o].color+'"></span><span class="visualize-key-label">'+b(this).text()+"</span></li>").appendTo(v)});v.appendTo(i);if(!a){m.insertAfter(l)}if(typeof(G_vmlCanvasManager)!="undefined"){G_vmlCanvasManager.initElement(h[0])}var t=h[0].getContext("2d");x[s.type]();b(".visualize-line li:first-child span.line, .visualize-line li:last-child span.line, .visualize-area li:first-child span.line, .visualize-area li:last-child span.line, .visualize-bar li:first-child span.line,.visualize-bar .visualize-labels-y li:last-child span.line").css("border","none");if(!a){m.bind("visualizeRefresh",function(){l.visualize(s,b(this).empty())})}}s.customFn()},destroy:function(){var c=this.element;var d=this.options;if(c.next(".visualize").length>0){c.next(".visualize").remove()}}});if(!document.createElement("canvas").getContext){document.createElement("canvas").getContext||(function(){var S=Math,ae=S.round,K=S.sin,E=S.cos,h=S.abs,g=S.sqrt,ad=10,J=ad/2;function e(){return this.context_||(this.context_=new z(this))}var u=Array.prototype.slice;function d(i,j){var k=u.call(arguments,2);return function(){return i.apply(j,k.concat(u.call(arguments)))}}var t={init:function(i){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var j=i||document;j.createElement("canvas");j.attachEvent("onreadystatechange",d(this.init_,this,j))}},init_:function(i){i.namespaces.g_vml_||i.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");i.namespaces.g_o_||i.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!i.styleSheets.ex_canvas_){var j=i.createStyleSheet();j.owningElement.id="ex_canvas_";j.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}var s=i.getElementsByTagName("canvas"),k=0;for(;k<s.length;k++){this.initElement(s[k])}},initElement:function(i){if(!i.getContext){i.getContext=e;i.innerHTML="";i.attachEvent("onpropertychange",c);i.attachEvent("onresize",m);var j=i.attributes;if(j.width&&j.width.specified){i.style.width=j.width.nodeValue+"px"}else{i.width=i.clientWidth}if(j.height&&j.height.specified){i.style.height=j.height.nodeValue+"px"}else{i.height=i.clientHeight}}return i}};function c(i){var j=i.srcElement;switch(i.propertyName){case"width":j.style.width=j.attributes.width.nodeValue+"px";j.getContext().clearRect();break;case"height":j.style.height=j.attributes.height.nodeValue+"px";j.getContext().clearRect();break}}function m(i){var j=i.srcElement;if(j.firstChild){j.firstChild.style.width=j.clientWidth+"px";j.firstChild.style.height=j.clientHeight+"px"}}t.init();var r=[],ab=0;for(;ab<16;ab++){var T=0;for(;T<16;T++){r[ab*16+T]=ab.toString(16)+T.toString(16)}}function x(){return[[1,0,0],[0,1,0],[0,0,1]]}function w(i,j){var A=x(),y=0;for(;y<3;y++){var v=0;for(;v<3;v++){var k=0,s=0;for(;s<3;s++){k+=i[y][s]*j[s][v]}A[y][v]=k}}return A}function p(i,j){j.fillStyle=i.fillStyle;j.lineCap=i.lineCap;j.lineJoin=i.lineJoin;j.lineWidth=i.lineWidth;j.miterLimit=i.miterLimit;j.shadowBlur=i.shadowBlur;j.shadowColor=i.shadowColor;j.shadowOffsetX=i.shadowOffsetX;j.shadowOffsetY=i.shadowOffsetY;j.strokeStyle=i.strokeStyle;j.globalAlpha=i.globalAlpha;j.arcScaleX_=i.arcScaleX_;j.arcScaleY_=i.arcScaleY_;j.lineScale_=i.lineScale_}function o(i){var j,A=1;i=String(i);if(i.substring(0,3)=="rgb"){var y=i.indexOf("(",3),v=i.indexOf(")",y+1),k=i.substring(y+1,v).split(",");j="#";var s=0;for(;s<3;s++){j+=r[Number(k[s])]}if(k.length==4&&i.substr(3,1)=="a"){A=k[3]}}else{j=i}return{color:j,alpha:A}}function ag(i){switch(i){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function z(i){this.m_=x();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=ad*1;this.globalAlpha=1;this.canvas=i;var j=i.ownerDocument.createElement("div");j.style.width=i.clientWidth+"px";j.style.height=i.clientHeight+"px";j.style.overflow="hidden";j.style.position="absolute";i.appendChild(j);this.element_=j;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}var af=z.prototype;af.clearRect=function(){this.element_.innerHTML=""};af.beginPath=function(){this.currentPath_=[]};af.moveTo=function(i,j){var k=this.getCoords_(i,j);this.currentPath_.push({type:"moveTo",x:k.x,y:k.y});this.currentX_=k.x;this.currentY_=k.y};af.lineTo=function(i,j){var k=this.getCoords_(i,j);this.currentPath_.push({type:"lineTo",x:k.x,y:k.y});this.currentX_=k.x;this.currentY_=k.y};af.bezierCurveTo=function(B,C,A,y,s,j){var k=this.getCoords_(s,j),i=this.getCoords_(B,C),v=this.getCoords_(A,y);n(this,i,v,k)};function n(i,j,s,k){i.currentPath_.push({type:"bezierCurveTo",cp1x:j.x,cp1y:j.y,cp2x:s.x,cp2y:s.y,x:k.x,y:k.y});i.currentX_=k.x;i.currentY_=k.y}af.quadraticCurveTo=function(i,j,A,y){var v=this.getCoords_(i,j),k=this.getCoords_(A,y),s={x:this.currentX_+0.6666666666666666*(v.x-this.currentX_),y:this.currentY_+0.6666666666666666*(v.y-this.currentY_)};n(this,s,{x:s.x+(k.x-this.currentX_)/3,y:s.y+(k.y-this.currentY_)/3},k)};af.arc=function(H,I,G,F,C,A){G*=ad;var B=A?"at":"wa",y=H+E(F)*G-J,D=I+K(F)*G-J,v=H+E(C)*G-J,i=I+K(C)*G-J;if(y==v&&!A){y+=0.125}var s=this.getCoords_(H,I),k=this.getCoords_(y,D),j=this.getCoords_(v,i);this.currentPath_.push({type:B,x:s.x,y:s.y,radius:G,xStart:k.x,yStart:k.y,xEnd:j.x,yEnd:j.y})};af.rect=function(i,j,s,k){this.moveTo(i,j);this.lineTo(i+s,j);this.lineTo(i+s,j+k);this.lineTo(i,j+k);this.closePath()};af.strokeRect=function(i,j,v,s){var k=this.currentPath_;this.beginPath();this.moveTo(i,j);this.lineTo(i+v,j);this.lineTo(i+v,j+s);this.lineTo(i,j+s);this.closePath();this.stroke();this.currentPath_=k};af.fillRect=function(i,j,v,s){var k=this.currentPath_;this.beginPath();this.moveTo(i,j);this.lineTo(i+v,j);this.lineTo(i+v,j+s);this.lineTo(i,j+s);this.closePath();this.fill();this.currentPath_=k};af.createLinearGradient=function(i,j,v,s){var k=new R("gradient");k.x0_=i;k.y0_=j;k.x1_=v;k.y1_=s;return k};af.createRadialGradient=function(i,j,A,y,v,k){var s=new R("gradientradial");s.x0_=i;s.y0_=j;s.r0_=A;s.x1_=y;s.y1_=v;s.r1_=k;return s};af.drawImage=function(P){var Q,O,N,L,H,I,G,M,F=P.runtimeStyle.width,y=P.runtimeStyle.height;P.runtimeStyle.width="auto";P.runtimeStyle.height="auto";var D=P.width,C=P.height;P.runtimeStyle.width=F;P.runtimeStyle.height=y;if(arguments.length==3){Q=arguments[1];O=arguments[2];H=I=0;G=N=D;M=L=C}else{if(arguments.length==5){Q=arguments[1];O=arguments[2];N=arguments[3];L=arguments[4];H=I=0;G=D;M=C}else{if(arguments.length==9){H=arguments[1];I=arguments[2];G=arguments[3];M=arguments[4];Q=arguments[5];O=arguments[6];N=arguments[7];L=arguments[8]}else{throw Error("Invalid number of arguments")}}}var A=this.getCoords_(Q,O),v=[];v.push(" <g_vml_:group",' coordsize="',ad*10,",",ad*10,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]){var s=[];s.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",ae(A.x/ad),",","Dy=",ae(A.y/ad),"");var B=A,i=this.getCoords_(Q+N,O),k=this.getCoords_(Q,O+L),j=this.getCoords_(Q+N,O+L);B.x=S.max(B.x,i.x,k.x,j.x);B.y=S.max(B.y,i.y,k.y,j.y);v.push("padding:0 ",ae(B.x/ad),"px ",ae(B.y/ad),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",s.join(""),", sizingmethod='clip');")}else{v.push("top:",ae(A.y/ad),"px;left:",ae(A.x/ad),"px;")}v.push(' ">','<g_vml_:image src="',P.src,'"',' style="width:',ad*N,"px;"," height:",ad*L,'px;"',' cropleft="',H/D,'"',' croptop="',I/C,'"',' cropright="',(D-H-G)/D,'"',' cropbottom="',(C-I-M)/C,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",v.join(""))};af.stroke=function(aa){var ah=[],Z=o(aa?this.fillStyle:this.strokeStyle),Y=Z.color,W=Z.alpha*this.globalAlpha;ah.push("<g_vml_:shape",' filled="',!!aa,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',ad*10," ",ad*10,'"',' stroked="',!aa,'"',' path="');var U={x:null,y:null},V={x:null,y:null},Q=0;for(;Q<this.currentPath_.length;Q++){var X=this.currentPath_[Q];switch(X.type){case"moveTo":ah.push(" m ",ae(X.x),",",ae(X.y));break;case"lineTo":ah.push(" l ",ae(X.x),",",ae(X.y));break;case"close":ah.push(" x ");X=null;break;case"bezierCurveTo":ah.push(" c ",ae(X.cp1x),",",ae(X.cp1y),",",ae(X.cp2x),",",ae(X.cp2y),",",ae(X.x),",",ae(X.y));break;case"at":case"wa":ah.push(" ",X.type," ",ae(X.x-this.arcScaleX_*X.radius),",",ae(X.y-this.arcScaleY_*X.radius)," ",ae(X.x+this.arcScaleX_*X.radius),",",ae(X.y+this.arcScaleY_*X.radius)," ",ae(X.xStart),",",ae(X.yStart)," ",ae(X.xEnd),",",ae(X.yEnd));break}if(X){if(U.x==null||X.x<U.x){U.x=X.x}if(V.x==null||X.x>V.x){V.x=X.x}if(U.y==null||X.y<U.y){U.y=X.y}if(V.y==null||X.y>V.y){V.y=X.y}}}ah.push(' ">');if(aa){if(typeof this.fillStyle=="object"){var P=this.fillStyle,H=0,O={x:0,y:0},M=0,I=1;if(P.type_=="gradient"){var G=P.x1_/this.arcScaleX_,F=P.y1_/this.arcScaleY_,L=this.getCoords_(P.x0_/this.arcScaleX_,P.y0_/this.arcScaleY_),y=this.getCoords_(G,F);H=Math.atan2(y.x-L.x,y.y-L.y)*180/Math.PI;if(H<0){H+=360}if(H<0.000001){H=0}}else{var L=this.getCoords_(P.x0_,P.y0_),C=V.x-U.x,B=V.y-U.y;O={x:(L.x-U.x)/C,y:(L.y-U.y)/B};C/=this.arcScaleX_*ad;B/=this.arcScaleY_*ad;var k=S.max(C,B);M=2*P.r0_/k;I=2*P.r1_/k-M}var D=P.colors_;D.sort(function(al,ak){return al.offset-ak.offset});var A=D.length,ai=D[0].color,s=D[A-1].color,N=D[0].alpha*this.globalAlpha,aj=D[A-1].alpha*this.globalAlpha,j=[],Q=0;for(;Q<A;Q++){var i=D[Q];j.push(i.offset*I+M+" "+i.color)}ah.push('<g_vml_:fill type="',P.type_,'"',' method="none" focus="100%"',' color="',ai,'"',' color2="',s,'"',' colors="',j.join(","),'"',' opacity="',aj,'"',' g_o_:opacity2="',N,'"',' angle="',H,'"',' focusposition="',O.x,",",O.y,'" />')}else{ah.push('<g_vml_:fill color="',Y,'" opacity="',W,'" />')}}else{var v=this.lineScale_*this.lineWidth;if(v<1){W*=v}ah.push("<g_vml_:stroke",' opacity="',W,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',ag(this.lineCap),'"',' weight="',v,'px"',' color="',Y,'" />')}ah.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",ah.join(""))};af.fill=function(){this.stroke(true)};af.closePath=function(){this.currentPath_.push({type:"close"})};af.getCoords_=function(i,j){var k=this.m_;return{x:ad*(i*k[0][0]+j*k[1][0]+k[2][0])-J,y:ad*(i*k[0][1]+j*k[1][1]+k[2][1])-J}};af.save=function(){var i={};p(this,i);this.aStack_.push(i);this.mStack_.push(this.m_);this.m_=w(x(),this.m_)};af.restore=function(){p(this.aStack_.pop(),this);this.m_=this.mStack_.pop()};function q(i){var j=0;for(;j<3;j++){var k=0;for(;k<2;k++){if(!isFinite(i[j][k])||isNaN(i[j][k])){return false}}}return true}function ac(i,j,k){if(!!q(j)){i.m_=j;if(k){i.lineScale_=g(h(j[0][0]*j[1][1]-j[0][1]*j[1][0]))}}}af.translate=function(i,j){ac(this,w([[1,0,0],[0,1,0],[i,j,1]],this.m_),false)};af.rotate=function(i){var j=E(i),k=K(i);ac(this,w([[j,k,0],[-k,j,0],[0,0,1]],this.m_),false)};af.scale=function(i,j){this.arcScaleX_*=i;this.arcScaleY_*=j;ac(this,w([[i,0,0],[0,j,0],[0,0,1]],this.m_),true)};af.transform=function(i,j,y,v,s,k){ac(this,w([[i,j,0],[y,v,0],[s,k,1]],this.m_),true)};af.setTransform=function(i,j,y,v,s,k){ac(this,[[i,j,0],[y,v,0],[s,k,1]],true)};af.clip=function(){};af.arcTo=function(){};af.createPattern=function(){return new l};function R(i){this.type_=i;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}R.prototype.addColorStop=function(i,j){j=o(j);this.colors_.push({offset:i,color:j.color,alpha:j.alpha})};function l(){}G_vmlCanvasManager=t;CanvasRenderingContext2D=z;CanvasGradient=R;CanvasPattern=l})()}b.extend(b.fn.tochart,{version:"1.3"})})(jQuery);(function(a,b){a.widget("ui.formatImage",{options:{width:"150px",height:"100px",position:"center"},_create:function(){var i=this.options,d=this.element,h=a('<div class="ui-formatImage-view"></div>'),e=parseFloat(d.attr("data-formatImage-width")||0),j=parseFloat(d.attr("data-formatImage-height")||0),g=(e!=0)?e:parseFloat(i.width),c=(j!=0)?j:parseFloat(i.height);h.css({width:g,height:c});d.attr({initWidth:d.width()||d[0].naturalWidth,initHeight:d.height()}||d[0].naturalHeight).wrap(h)},_init:function(){var c=this.element,e=c[0].getAttribute("src"),d=this;c[0].setAttribute("src","");c[0].onload=null;c[0].onload=function(){d.imgOnload()};c[0].setAttribute("src",e)},_setOption:function(c,d){this.options[c]=d},imgOnload:function(){var e=this.options,c=this.element,k=c.parent("div.ui-formatImage-view"),l=parseFloat(c[0].naturalWidth||c.width()),i=parseFloat(c[0].naturalHeight||c.height()),d=(e.width=="150px")?parseFloat(k.width()):e.width,q=(e.height=="100px")?parseFloat(k.height()):e.height;k.css({width:d,height:q});if(l==0||i==0){return}var r=d/l,n=q/i,s=r>n?r:n,p=l*s,j=i*s,g=d-p,m=q-j;c.css({width:p,height:j});var h=(e.position=="center")?c.attr("data-formatImage-position"):e.position;switch(h){case"top":c.css({left:0,top:0});break;case"bottom":c.css({left:g,top:m});break;default:c.css({left:g/2,top:m/2});break}return c},destroy:function(){var d=this.element;d[0].onload=null;d.removeAttr("left").removeAttr("top").removeAttr("data-formatimage-width").removeAttr("data-formatimage-height").removeAttr("data-formatimage-position").removeClass("ui-formatImage").unwrap("div.ui-formatImage-view");var e=d.attr("initWidth"),c=d.attr("initHeight");if(e!=d[0].naturalWidth){d.width(e)}if(c!=d[0].naturalHeight){d.height(c)}d.removeAttr("initWidth").removeAttr("initHeight")}});a.extend(a.ui.formatImage,{version:"1.3",author:"黄卉",date:"2012-12-19"})})(jQuery);$(function(){$(".ui-formatImage").formatImage()});(function(a,b){a.widget("ui.readModel",{options:{height:"",width:"",model:"default",iframe:false},show:function(){var g=this.options,h=this.element,s=0,j=0,m=this,r=a('<div class="ui-readModel-bg"></div>'),d=a('<span class="ui-readModel-close"></span>'),u=0,t=0,p=0;a("html").css("overflow","hidden");u=Math.max(document.body.offsetHeight,g.height||h.height());t=Math.max(document.body.offsetWidth,g.width||h.width());r.css({height:u,width:t});h.attr("initStyle",h.attr("style"));if(g.height!=""){h.height(g.height)}if(g.width!=""){h.width(g.width)}else{h.css("width",h.width())}if(g.model=="center"){var l=parseFloat(a(window).height()),i=parseFloat(a(window).width()),q=parseFloat(h.height()),n=parseFloat(h.width()),e=document.body.scrollTop||document.documentElement.scrollTop,k=document.body.scrollLeft||document.documentElement.scrollLeft;s=l<q?e+15:l/2-q/2+e;j=i<n?k+15:i/2-n/2+k}else{if(g.model=="default"){s=h.offset().top;j=h.offset().left}}if(h.width()==t){p=0}else{p=j+h.width()-15}d.css({top:s-15,left:p}).bind("click",function(){m.hide()});if(g.iframe){if(window.top.document=="undefined"||window.top.document==null||window.top.document==""){h.css({position:"absolute",top:s,left:j});h.wrap(r).before(d)}else{var c=h.clone(true);c.addClass("ui-readModel-clone").css({position:"absolute",top:s,left:j});a(window.top.document.body).append(r);r.append(c).append(d)}}else{h.css({position:"absolute",top:s,left:j});h.wrap(r).before(d)}},hide:function(){var g=this.options,c=this.element,h=a("div.ui-readModel-bg"),e=h.find(".ui-readModel-close");c.attr("style",c.attr("initStyle")).removeAttr("initStyle");e.unbind("click");if(g.iframe){h.hide();var d=h.find(".ui-readModel-clone");if(d.length!=0){d.remove();c.unwrap(h);e.remove()}else{c.unwrap(h);e.remove()}}else{c.unwrap(h);e.remove()}a("html").css("overflow","")},destroy:function(){}});a.extend(a.ui.readModel,{version:"1.3",author:"黄卉",date:"2012-12-24"})})(jQuery);$(function(){$(".ui-readModel").readModel()});