<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>固定列数的浮动布局</title>
<style type="text/css">
	ul,li{
		list-style:none ;
		margin:0 ;
		padding:0 ;
	}
	ul{
		width:1300px;
	}
	li{
		float:left ;
		margin-right:50px ;
		width:200px ;
	}
	li a{
		background:#fff ;
		border-radius:8px ;
		box-shadow:0 0 11px #666 ;
		display:inline-block;
		margin:10px ;
		padding:5px ;
		position:relative ;
		width:200px ;
	}
	li a img{
		width:200px ;
	}
	.desc{
		background:rgba(0,0,0,0.3) ;
		bottom:8px; 
		color:#fff ;
		display:inline-block ;
		height:50px ;
		left:5px;
		padding:5px 0 ;
		position:absolute;
		text-align:center ;
		width:200px ;
	}
</style>
</head>

<body>
	<!--
    	固定列数的浮动布局
    	1、设置显示的列数（比如5列）
        2、制定列数的li标签（此处5个li）
        3、将元素（此处为图片）分别一个个放到相应的li元素中
        
        基于固定宽度的浮动定位的瀑布流
		实现简单，其实就是一个滚动加载数据而已
		缺点布局不随宽度的变化而改变，如果有图片特别长的时候，最高的列与最低的列有可能差距大，空白大
    -->
	<ul id="ulList">
    	<li></li>
    	<li></li>
    	<li></li>
    	<li></li>
    	<li></li>
    </ul>
    <script language="javascript">		
		waterFall = function(option){
			this.col = option.col ;
			this.init(itemList) ;
		}
		
		waterFall.prototype = {
			init : function(itemList){
				var li = document.getElementById('ulList').getElementsByTagName('li') ;
				var itemLen = itemList.length ;
				console.log(itemLen) ;
				for(var i=0; i<itemLen;i++){
					var j = i % (this.col) ;
					var a = document.createElement('a') ;
					a.id = itemList[i].id ;
					var img = document.createElement('img') ;
					img.src = itemList[i].src ;
					var span = document.createElement('span') ;
					span.setAttribute('class','desc') ;
					span.innerHTML = itemList[i].spanhtml ;
					a.appendChild(img) ;
					a.appendChild(span) ;
					li[j].appendChild(a) ;
				}
			}
		}
		
		itemElem = function(id,src,spanhtml){
			this.id = id ;
			this.src = src ;
			this.spanhtml = spanhtml ;
		}
		
		var itemList = [
			/*<a href="#"><img src="img/3.jpg" /><span class="desc">我是第3333333333个</span></a>*/
			new itemElem('item1','img/1.jpg','我是第111111个') ,
			new itemElem('item2','img/2.jpg','我是第222222个') ,
			new itemElem('item3','img/3.jpg','我是第333333个') ,
			
			new itemElem('item4','img/4.jpg','我是第444444个') ,
			new itemElem('item5','img/5.jpg','我是第555555个') ,
			new itemElem('item6','img/6.jpg','我是第666666个') ,
			
			new itemElem('item7','img/7.jpg','我是第777777个') ,
			new itemElem('item8','img/8.jpg','我是第888888个') ,
			new itemElem('item9','img/9.jpg','我是第999999个') ,
			
			new itemElem('item4','img/4.jpg','我是第444444个') ,
			new itemElem('item5','img/5.jpg','我是第555555个') ,
			new itemElem('item6','img/6.jpg','我是第666666个') ,
			
			new itemElem('item7','img/7.jpg','我是第777777个') ,
			new itemElem('item8','img/8.jpg','我是第888888个') ,
			new itemElem('item9','img/9.jpg','我是第999999个') ,
			
			new itemElem('item0','img/10.jpg','我是第000000个') ,
			new itemElem('item1','img/1.jpg','我是第111111个') ,
			new itemElem('item2','img/2.jpg','我是第222222个') ,
			new itemElem('item3','img/3.jpg','我是第333333个') ,
			
			new itemElem('item0','img/10.jpg','我是第000000个')
		] ;
		var waterFallItem = new waterFall({
			col : 5 
		}) ;
    </script>
</body>
</html>
