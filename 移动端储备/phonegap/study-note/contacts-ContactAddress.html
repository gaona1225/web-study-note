<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>contacts-ContactAddress</title>
<script language="javascript" src="phonegap-1.3.0.js"></script>
<script language="javascript">
	// 等待加载PhoneGap
	document.addEventListener("deviceready", onDeviceReady, false);
	
	// PhoneGap加载完毕
	function onDeviceReady() {
	
		// 从全部联系人中进行搜索
		var options = new ContactFindOptions();
		options.filter="";
		var filter = ["displayName","addresses"];
		navigator.service.contacts.find(filter, onSuccess, onError, options);
	}
	
	// onSuccess: 返回当前联系人结果集的快照
	function onSuccess(contacts) {
		// 显示所有联系人的地址信息
		for (var i=0; i<contacts.length; i++) {
			for (var j=0; j<contacts[i].addresses.length; j++) {
				alert("Pref: " + contacts[i].addresses[j].pref + "\n" +
					"Type: " + contacts[i].addresses[j].type + "\n" +
					"Formatted: " + contacts[i].addresses[j].formatted + "\n" +
					"Street Address: "  + contacts[i].addresses[j].streetAddress + "\n" +
					"Locality: "  + contacts[i].addresses[j].locality + "\n" +
					"Region: "  + contacts[i].addresses[j].region + "\n" +
					"Postal Code: "  + contacts[i].addresses[j].postalCode + "\n" +
					"Country: "  + contacts[i].addresses[j].country);
			}
		}
	}
	
	// onError: 获取联系人结果集失败
	function onError() {
		alert('onError!');
	}
</script>
</head>

<body>
	<h1>Example</h1>
 	<p>Find Contact</p>
</body>
</html>
